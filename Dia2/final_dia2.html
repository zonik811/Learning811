<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D√≠a 2 - Quiz Final</title>
    <style>
        :root {
            --color-primary: #667eea;
            --color-secondary: #764ba2;
            --color-accent: #f093fb;
            --color-success: #48bb78;
            --color-warning: #ed8936;
            --color-error: #f56565;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0a0a0a;
            color: white;
            min-height: 100vh;
        }

        .background-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: linear-gradient(-45deg, #0a0a0a, #1a1a2e, #16213e, #0f3460);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .header {
            padding: 2rem;
            background: rgba(10, 10, 10, 0.8);
            backdrop-filter: blur(20px);
            border-bottom: 2px solid rgba(102, 126, 234, 0.3);
        }

        .header-content {
            max-width: 900px;
            margin: 0 auto;
            text-align: center;
        }

        .quiz-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        .header-title {
            font-size: 2.5rem;
            background: linear-gradient(135deg, #667eea, #764ba2, #f093fb);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 0.5rem;
        }

        .header-subtitle {
            color: rgba(255, 255, 255, 0.7);
            font-size: 1.1rem;
        }

        .container {
            max-width: 900px;
            margin: 2rem auto;
            padding: 0 2rem 4rem 2rem;
        }

        .intro-card {
            background: rgba(30, 30, 30, 0.95);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2rem;
            border: 2px solid rgba(102, 126, 234, 0.3);
            text-align: center;
        }

        .intro-card h2 {
            font-size: 1.5rem;
            color: var(--color-primary);
            margin-bottom: 1rem;
        }

        .intro-card p {
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .progress-bar {
            background: rgba(40, 40, 40, 0.8);
            border-radius: 999px;
            height: 12px;
            margin: 2rem 0;
            overflow: hidden;
            border: 1px solid rgba(102, 126, 234, 0.3);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2, #f093fb);
            width: 0%;
            transition: width 0.5s ease;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.6);
        }

        .progress-text {
            text-align: center;
            color: rgba(255, 255, 255, 0.7);
            margin-top: 0.5rem;
            font-size: 0.95rem;
        }

        .question-card {
            background: rgba(30, 30, 30, 0.95);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2rem;
            border: 2px solid rgba(102, 126, 234, 0.3);
            display: none;
        }

        .question-card.active {
            display: block;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .question-number {
            color: var(--color-accent);
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .question-text {
            font-size: 1.3rem;
            color: white;
            font-weight: 600;
            margin-bottom: 2rem;
            line-height: 1.5;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .option {
            background: rgba(40, 40, 40, 0.8);
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 12px;
            padding: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .option:hover {
            border-color: var(--color-primary);
            background: rgba(102, 126, 234, 0.1);
            transform: translateX(5px);
        }

        .option-letter {
            background: var(--color-primary);
            color: white;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.1rem;
            flex-shrink: 0;
        }

        .option-text {
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.5;
        }

        .option.correct {
            border-color: var(--color-success);
            background: rgba(72, 187, 120, 0.15);
        }

        .option.correct .option-letter {
            background: var(--color-success);
        }

        .option.incorrect {
            border-color: var(--color-error);
            background: rgba(245, 101, 101, 0.15);
        }

        .option.incorrect .option-letter {
            background: var(--color-error);
        }

        .option.disabled {
            cursor: not-allowed;
            opacity: 0.6;
        }

        .feedback {
            margin-top: 1.5rem;
            padding: 1rem;
            border-radius: 12px;
            display: none;
        }

        .feedback.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .feedback.correct {
            background: rgba(72, 187, 120, 0.15);
            border: 1px solid var(--color-success);
            color: var(--color-success);
        }

        .feedback.incorrect {
            background: rgba(245, 101, 101, 0.15);
            border: 1px solid var(--color-error);
            color: var(--color-error);
        }

        .feedback-title {
            font-weight: 700;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .next-button {
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 1.5rem;
            width: 100%;
            display: none;
        }

        .next-button.show {
            display: block;
        }

        .next-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }

        .results-card {
            background: rgba(30, 30, 30, 0.95);
            border-radius: 16px;
            padding: 3rem 2rem;
            margin-bottom: 2rem;
            border: 2px solid rgba(72, 187, 120, 0.3);
            text-align: center;
            display: none;
        }

        .results-card.show {
            display: block;
            animation: zoomIn 0.6s ease;
        }

        @keyframes zoomIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .results-icon {
            font-size: 5rem;
            margin-bottom: 1rem;
        }

        .results-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: white;
        }

        .results-score {
            font-size: 3rem;
            font-weight: 800;
            background: linear-gradient(135deg, #667eea, #764ba2, #f093fb);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
        }

        .results-message {
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.6;
            margin-bottom: 2rem;
            font-size: 1.1rem;
        }

        .complete-button {
            background: linear-gradient(135deg, #48bb78, #38a169);
            color: white;
            border: none;
            padding: 1.2rem 2.5rem;
            border-radius: 12px;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .complete-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(72, 187, 120, 0.4);
        }

        .retry-button {
            background: rgba(102, 126, 234, 0.2);
            border: 2px solid var(--color-primary);
            color: white;
            padding: 1rem 2rem;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 1rem;
        }

        .retry-button:hover {
            background: var(--color-primary);
        }

        @media (max-width: 768px) {
            .header-title {
                font-size: 2rem;
            }

            .question-text {
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body>
    <div class="background-animation"></div>

    <div class="header">
        <div class="header-content">
            <div class="quiz-icon">üéØ</div>
            <h1 class="header-title">Quiz Final - D√≠a 2</h1>
            <p class="header-subtitle">Demuestra lo que aprendiste sobre Setup y Configuraci√≥n</p>
        </div>
    </div>

    <div class="container">
        <div class="intro-card" id="introCard">
            <h2>üöÄ ¬øListo para el desaf√≠o?</h2>
            <p>
                Responde 10 preguntas sobre todo lo que aprendiste en el D√≠a 2:<br>
                VS Code, Python, Extensiones, DevTools, CMD/PowerShell y Variables de Entorno.
            </p>
            <p>
                <strong>Necesitas al menos 7/10 correctas para aprobar.</strong><br>
                ¬°T√≥mate tu tiempo y piensa bien cada respuesta!
            </p>
            <button class="complete-button" onclick="startQuiz()" style="margin-top: 1.5rem;">
                Comenzar Quiz üéØ
            </button>
        </div>

        <div class="progress-bar" id="progressBar" style="display: none;">
            <div class="progress-fill" id="progressFill"></div>
        </div>
        <div class="progress-text" id="progressText" style="display: none;"></div>

        <!-- Questions will be dynamically inserted here -->
        <div id="questionsContainer"></div>

        <!-- Results -->
        <div class="results-card" id="resultsCard">
            <div class="results-icon" id="resultsIcon">üéâ</div>
            <h2 class="results-title" id="resultsTitle">¬°Felicitaciones!</h2>
            <div class="results-score" id="resultsScore">10/10</div>
            <p class="results-message" id="resultsMessage">
                Excelente trabajo. Has demostrado dominio total del D√≠a 2.
            </p>
            <button class="complete-button" onclick="completeDay()" id="completeBtn">
                ‚úÖ Completar D√≠a 2 y Volver al Men√∫
            </button>
            <button class="retry-button" onclick="retryQuiz()" id="retryBtn" style="display: none;">
                üîÑ Reintentar Quiz
            </button>
        </div>
    </div>

    <script>
        const questions = [
            {
                question: "¬øQu√© es Visual Studio Code?",
                options: [
                    "Un lenguaje de programaci√≥n",
                    "Un editor de c√≥digo fuente",
                    "Un sistema operativo",
                    "Una base de datos"
                ],
                correct: 1,
                explanation: "VS Code es un editor de c√≥digo fuente desarrollado por Microsoft, dise√±ado espec√≠ficamente para escribir y editar c√≥digo de programaci√≥n."
            },
            {
                question: "¬øPor qu√© es importante marcar 'Add Python to PATH' durante la instalaci√≥n?",
                options: [
                    "Para que Python funcione m√°s r√°pido",
                    "Para que el sistema pueda encontrar Python desde cualquier carpeta",
                    "Para instalar m√°s librer√≠as",
                    "Para usar VS Code"
                ],
                correct: 1,
                explanation: "PATH es una variable de entorno que le dice al sistema d√≥nde buscar programas ejecutables. Sin Python en PATH, no podr√°s ejecutarlo desde cualquier carpeta."
            },
            {
                question: "¬øCu√°l extensi√≥n de VS Code te permite ver cambios en tiempo real en tu navegador?",
                options: [
                    "Prettier",
                    "Python",
                    "Live Server",
                    "Path Intellisense"
                ],
                correct: 2,
                explanation: "Live Server crea un servidor local que recarga autom√°ticamente tu p√°gina web cada vez que guardas cambios, permitiendo ver los cambios en tiempo real."
            },
            {
                question: "¬øQu√© tecla presionas para abrir las Developer Tools en el navegador?",
                options: [
                    "F5",
                    "F12",
                    "F1",
                    "Ctrl + S"
                ],
                correct: 1,
                explanation: "F12 es el atajo universal para abrir las Developer Tools (DevTools) en todos los navegadores modernos."
            },
            {
                question: "¬øEn qu√© pesta√±a de DevTools puedes ejecutar c√≥digo JavaScript en tiempo real?",
                options: [
                    "Elements",
                    "Network",
                    "Console",
                    "Sources"
                ],
                correct: 2,
                explanation: "La pesta√±a Console permite ejecutar c√≥digo JavaScript en tiempo real, ver mensajes de error y probar funciones directamente."
            },
            {
                question: "¬øQu√© comando CMD te permite listar el contenido de una carpeta?",
                options: [
                    "ls",
                    "dir",
                    "list",
                    "show"
                ],
                correct: 1,
                explanation: "En CMD (Windows), el comando 'dir' lista el contenido de la carpeta actual. En Mac/Linux se usa 'ls'."
            },
            {
                question: "¬øQu√© hace el comando 'cd ..' en la terminal?",
                options: [
                    "Crea una nueva carpeta",
                    "Elimina archivos",
                    "Retrocede a la carpeta anterior/padre",
                    "Limpia la pantalla"
                ],
                correct: 2,
                explanation: "'cd ..' (change directory ..) te lleva a la carpeta padre, un nivel arriba en la estructura de directorios."
            },
            {
                question: "¬øCu√°l es la principal diferencia entre CMD y PowerShell?",
                options: [
                    "CMD es m√°s moderno",
                    "PowerShell solo funciona en Linux",
                    "PowerShell es m√°s potente y tiene m√°s funcionalidades",
                    "No hay ninguna diferencia"
                ],
                correct: 2,
                explanation: "PowerShell es mucho m√°s potente que CMD. Usa cmdlets avanzados, tiene un lenguaje de scripting completo y soporta automatizaci√≥n compleja."
            },
            {
                question: "¬øQu√© comando verificas que Python est√° instalado correctamente?",
                options: [
                    "python --check",
                    "python --version",
                    "python --status",
                    "check python"
                ],
                correct: 1,
                explanation: "'python --version' muestra la versi√≥n de Python instalada, confirmando que est√° en el PATH y funcionando correctamente."
            },
            {
                question: "¬øPara qu√© sirve la extensi√≥n Prettier en VS Code?",
                options: [
                    "Para ejecutar c√≥digo Python",
                    "Para formatear y embellecer c√≥digo autom√°ticamente",
                    "Para crear servidores locales",
                    "Para depurar errores"
                ],
                correct: 1,
                explanation: "Prettier es un formateador autom√°tico de c√≥digo que organiza y 'embellece' tu c√≥digo siguiendo las mejores pr√°cticas de formato."
            }
        ];

        let currentQuestion = 0;
        let score = 0;
        let answered = false;

        function startQuiz() {
            document.getElementById('introCard').style.display = 'none';
            document.getElementById('progressBar').style.display = 'block';
            document.getElementById('progressText').style.display = 'block';
            renderQuestion();
        }

        function renderQuestion() {
            const container = document.getElementById('questionsContainer');
            const q = questions[currentQuestion];
            
            const questionHTML = `
                <div class="question-card active" id="question${currentQuestion}">
                    <div class="question-number">Pregunta ${currentQuestion + 1} de ${questions.length}</div>
                    <div class="question-text">${q.question}</div>
                    <div class="options" id="options${currentQuestion}">
                        ${q.options.map((option, index) => `
                            <div class="option" onclick="selectOption(${index})" data-index="${index}">
                                <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                                <div class="option-text">${option}</div>
                            </div>
                        `).join('')}
                    </div>
                    <div class="feedback" id="feedback${currentQuestion}">
                        <div class="feedback-title" id="feedbackTitle${currentQuestion}"></div>
                        <div id="feedbackText${currentQuestion}"></div>
                    </div>
                    <button class="next-button" id="nextBtn${currentQuestion}" onclick="nextQuestion()">
                        ${currentQuestion < questions.length - 1 ? 'Siguiente Pregunta ‚Üí' : 'Ver Resultados üéØ'}
                    </button>
                </div>
            `;
            
            container.innerHTML += questionHTML;
            updateProgress();
            answered = false;
        }

        function selectOption(index) {
            if (answered) return;
            
            answered = true;
            const q = questions[currentQuestion];
            const options = document.querySelectorAll(`#question${currentQuestion} .option`);
            const feedback = document.getElementById(`feedback${currentQuestion}`);
            const feedbackTitle = document.getElementById(`feedbackTitle${currentQuestion}`);
            const feedbackText = document.getElementById(`feedbackText${currentQuestion}`);
            const nextBtn = document.getElementById(`nextBtn${currentQuestion}`);
            
            options.forEach(opt => opt.classList.add('disabled'));
            
            if (index === q.correct) {
                score++;
                options[index].classList.add('correct');
                feedback.classList.add('correct', 'show');
                feedbackTitle.textContent = '‚úÖ ¬°Correcto!';
                feedbackText.textContent = q.explanation;
            } else {
                options[index].classList.add('incorrect');
                options[q.correct].classList.add('correct');
                feedback.classList.add('incorrect', 'show');
                feedbackTitle.textContent = '‚ùå Incorrecto';
                feedbackText.textContent = `La respuesta correcta es: ${q.options[q.correct]}. ${q.explanation}`;
            }
            
            nextBtn.classList.add('show');
        }

        function nextQuestion() {
            currentQuestion++;
            updateProgress();
            
            if (currentQuestion < questions.length) {
                renderQuestion();
            } else {
                showResults();
            }
        }

        function updateProgress() {
            const progress = (currentQuestion / questions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressText').textContent = `Pregunta ${currentQuestion} de ${questions.length}`;
        }

        function showResults() {
            document.getElementById('progressBar').style.display = 'none';
            document.getElementById('progressText').style.display = 'none';
            document.getElementById('questionsContainer').style.display = 'none';
            
            const resultsCard = document.getElementById('resultsCard');
            const resultsIcon = document.getElementById('resultsIcon');
            const resultsTitle = document.getElementById('resultsTitle');
            const resultsScore = document.getElementById('resultsScore');
            const resultsMessage = document.getElementById('resultsMessage');
            const completeBtn = document.getElementById('completeBtn');
            const retryBtn = document.getElementById('retryBtn');
            
            resultsScore.textContent = `${score}/${questions.length}`;
            
            const percentage = (score / questions.length) * 100;
            
            if (percentage >= 90) {
                resultsIcon.textContent = 'üèÜ';
                resultsTitle.textContent = '¬°Excelente!';
                resultsMessage.textContent = `Puntuaci√≥n perfecta o casi perfecta (${score}/${questions.length}). Has dominado completamente el D√≠a 2. ¬°Eres un crack!`;
                completeBtn.style.display = 'block';
                retryBtn.style.display = 'none';
            } else if (percentage >= 70) {
                resultsIcon.textContent = 'üéâ';
                resultsTitle.textContent = '¬°Aprobado!';
                resultsMessage.textContent = `Buen trabajo (${score}/${questions.length}). Has demostrado comprensi√≥n s√≥lida del material. ¬°Est√°s listo para continuar!`;
                completeBtn.style.display = 'block';
                retryBtn.style.display = 'none';
            } else {
                resultsIcon.textContent = 'üìö';
                resultsTitle.textContent = 'Necesitas repasar';
                resultsMessage.textContent = `Obtuviste ${score}/${questions.length} correctas. Te recomiendo revisar los m√≥dulos del D√≠a 2 antes de continuar.`;
                completeBtn.style.display = 'none';
                retryBtn.style.display = 'block';
            }
            
            resultsCard.classList.add('show');
        }

        function retryQuiz() {
            location.reload();
        }

        function completeDay() {
            // Mark day 2 as completed
            const completedDays = JSON.parse(localStorage.getItem('completedDays') || '[]');
            
            if (!completedDays.includes(2)) {
                completedDays.push(2);
                completedDays.sort((a, b) => a - b);
                localStorage.setItem('completedDays', JSON.stringify(completedDays));
                console.log('‚úÖ D√≠a 2 completado con √©xito');
            }

            // Show success notification
            alert('üéâ ¬°Felicitaciones!\n\nD√≠a 2 completado exitosamente.\nD√≠a 3 desbloqueado: HTML desde Cero');

            // Redirect to menu
            setTimeout(() => {
                window.location.href = '../menu.html';
            }, 1000);
        }

        // Check if day is already completed
        document.addEventListener('DOMContentLoaded', function() {
            const completedDays = JSON.parse(localStorage.getItem('completedDays') || '[]');
            if (completedDays.includes(2)) {
                const introCard = document.getElementById('introCard');
                introCard.innerHTML = `
                    <h2>‚úÖ D√≠a 2 ya completado</h2>
                    <p>
                        Ya has completado exitosamente el D√≠a 2 y el quiz final.<br>
                        Puedes volver al men√∫ principal o repetir el quiz si quieres practicar.
                    </p>
                    <button class="complete-button" onclick="window.location.href='../menu.html'" style="margin-top: 1rem;">
                        Volver al Men√∫
                    </button>
                    <button class="retry-button" onclick="retryQuiz()" style="margin-top: 1rem;">
                        Repetir Quiz
                    </button>
                `;
            }
        });
    </script>
</body>
</html>