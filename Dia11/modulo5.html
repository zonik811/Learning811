<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M√≥dulo 5 - SQL: INSERT, UPDATE, DELETE</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            color: white;
            font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            padding: 40px 20px;
            text-align: center;
            border-radius: 16px;
            margin-bottom: 40px;
            box-shadow: 0 8px 32px rgba(102, 126, 234, 0.3);
        }

        header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.1rem;
            color: rgba(255, 255, 255, 0.9);
        }

        .section {
            background: rgba(30, 27, 75, 0.6);
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 30px;
            border: 1px solid rgba(102, 126, 234, 0.3);
        }

        .section h2 {
            font-size: 1.8rem;
            color: #667eea;
            margin-bottom: 20px;
        }

        .section h3 {
            font-size: 1.3rem;
            color: #a78bfa;
            margin-top: 25px;
            margin-bottom: 15px;
        }

        .section p,
        .section li {
            font-size: 1.05rem;
            line-height: 1.8;
            color: #d1d5f0;
            margin-bottom: 15px;
        }

        .section ul {
            margin-left: 20px;
        }

        .section code {
            background: rgba(0, 0, 0, 0.4);
            padding: 2px 6px;
            border-radius: 4px;
            color: #a78bfa;
            font-family: 'Courier New', monospace;
        }

        .objective-box {
            background: rgba(102, 126, 234, 0.1);
            border-left: 4px solid #667eea;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .warning-box {
            background: rgba(244, 67, 54, 0.15);
            border-left: 4px solid #f44336;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            color: #ffcdd2;
        }

        .warning-box strong {
            color: #f44336;
        }

        .code-block {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(102, 126, 234, 0.3);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.95rem;
            line-height: 1.6;
        }

        .code-block .keyword {
            color: #667eea;
            font-weight: bold;
        }

        .code-block .string {
            color: #4caf50;
        }

        .code-block .comment {
            color: #888;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            overflow: hidden;
        }

        .data-table th {
            background: rgba(102, 126, 234, 0.3);
            padding: 12px;
            text-align: left;
            color: #a78bfa;
            font-weight: 600;
        }

        .data-table td {
            padding: 12px;
            border-bottom: 1px solid rgba(102, 126, 234, 0.2);
        }

        .data-table tr:hover {
            background: rgba(102, 126, 234, 0.1);
        }

        .data-table tr.new-row {
            background: rgba(76, 175, 80, 0.2);
            animation: highlight 1s;
        }

        .data-table tr.updated-row {
            background: rgba(255, 235, 59, 0.2);
            animation: highlight 1s;
        }

        .data-table tr.deleted-row {
            background: rgba(244, 67, 54, 0.2);
            text-decoration: line-through;
            opacity: 0.5;
        }

        @keyframes highlight {
            from {
                transform: scale(1.02);
            }

            to {
                transform: scale(1);
            }
        }

        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1rem;
            text-decoration: none;
            display: inline-block;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: rgba(102, 126, 234, 0.2);
            color: #a78bfa;
            border: 1px solid #667eea;
        }

        .btn-secondary:hover {
            background: rgba(102, 126, 234, 0.3);
        }

        /* Exercise Styles */
        .exercise-box {
            background: rgba(118, 75, 162, 0.15);
            border: 2px solid rgba(167, 139, 250, 0.4);
            padding: 25px;
            border-radius: 12px;
            margin: 30px 0;
        }

        .exercise-box h3 {
            color: #a78bfa;
            margin-top: 0;
            margin-bottom: 20px;
            font-size: 1.4rem;
        }

        .crud-form {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .crud-form input,
        .crud-form select {
            display: block;
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(102, 126, 234, 0.3);
            border-radius: 6px;
            color: white;
            font-size: 1rem;
        }

        .crud-form label {
            display: block;
            margin-top: 15px;
            color: #a78bfa;
            font-weight: 600;
        }

        .action-btn {
            background: #4caf50;
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            margin: 10px 5px 10px 0;
            transition: all 0.3s;
            font-size: 1rem;
        }

        .action-btn:hover {
            background: #45a049;
            transform: scale(1.05);
        }

        .action-btn.delete {
            background: #f44336;
        }

        .action-btn.delete:hover {
            background: #da190b;
        }

        .action-btn.update {
            background: #ff9800;
        }

        .action-btn.update:hover {
            background: #e68900;
        }

        .result-message {
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            font-weight: 600;
            text-align: center;
            display: none;
        }

        .result-message.success {
            background: rgba(76, 175, 80, 0.3);
            border: 1px solid #4caf50;
            color: #4caf50;
            display: block;
        }

        .result-message.error {
            background: rgba(244, 67, 54, 0.3);
            border: 1px solid #f44336;
            color: #f44336;
            display: block;
        }

        .result-message.info {
            background: rgba(33, 150, 243, 0.3);
            border: 1px solid #2196f3;
            color: #2196f3;
            display: block;
        }

        .sql-preview {
            background: rgba(0, 0, 0, 0.5);
            padding: 15px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            color: #4caf50;
            margin: 15px 0;
            border: 1px solid rgba(76, 175, 80, 0.3);
        }

        .highlight {
            color: #a78bfa;
            font-weight: 600;
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <h1>‚úèÔ∏è M√≥dulo 5: SQL - INSERT, UPDATE, DELETE</h1>
            <p>Aprende a modificar datos en la base de datos</p>
        </header>

        <div class="section">
            <h2>üéØ CRUD - Las 4 Operaciones B√°sicas</h2>
            <p>
                <span class="highlight">CRUD</span> es el acr√≥nimo de las 4 operaciones fundamentales
                que puedes hacer con datos:
            </p>

            <div class="objective-box">
                <strong>C</strong>reate (Crear) ‚Üí <code>INSERT</code><br>
                <strong>R</strong>ead (Leer) ‚Üí <code>SELECT</code> (ya lo vimos en M√≥dulo 4)<br>
                <strong>U</strong>pdate (Actualizar) ‚Üí <code>UPDATE</code><br>
                <strong>D</strong>elete (Eliminar) ‚Üí <code>DELETE</code>
            </div>

            <p>En este m√≥dulo aprenderemos CREATE, UPDATE y DELETE.</p>
        </div>

        <div class="section">
            <h2>‚ûï INSERT - Agregar Datos</h2>
            <p>
                <code>INSERT</code> se usa para <strong>agregar nuevas filas</strong> a una tabla.
            </p>

            <h3>Sintaxis:</h3>
            <div class="code-block">
                <span class="keyword">INSERT INTO</span> tabla (columna1, columna2, columna3)
                <span class="keyword">VALUES</span> (<span class="string">'valor1'</span>, <span
                    class="string">'valor2'</span>, <span class="string">'valor3'</span>);
            </div>

            <h3>Ejemplo - Agregar un nuevo Pok√©mon:</h3>
            <div class="code-block">
                <span class="keyword">INSERT INTO</span> pokemon (nombre, tipo, nivel, hp, ataque)
                <span class="keyword">VALUES</span> (<span class="string">'Pikachu'</span>, <span
                    class="string">'El√©ctrico'</span>, <span class="string">25</span>, <span class="string">35</span>,
                <span class="string">55</span>);
            </div>

            <div class="objective-box">
                <strong>üí° Notas importantes:</strong><br>
                ‚úÖ Los valores de texto van entre comillas simples <code>'texto'</code><br>
                ‚úÖ Los n√∫meros NO necesitan comillas<br>
                ‚úÖ El orden de los valores debe coincid con el orden de las columnas<br>
                ‚úÖ No necesitas incluir el <code>id</code> si es auto-incrementable
            </div>
        </div>

        <div class="section">
            <h2>üîÑ UPDATE - Actualizar Datos</h2>
            <p>
                <code>UPDATE</code> se usa para <strong>modificar datos existentes</strong>.
            </p>

            <h3>Sintaxis:</h3>
            <div class="code-block">
                <span class="keyword">UPDATE</span> tabla
                <span class="keyword">SET</span> columna1 = <span class="string">'nuevo_valor'</span>
                <span class="keyword">WHERE</span> condicion;
            </div>

            <h3>Ejemplo - Subir el nivel de Pikachu:</h3>
            <div class="code-block">
                <span class="keyword">UPDATE</span> pokemon
                <span class="keyword">SET</span> nivel = <span class="string">30</span>
                <span class="keyword">WHERE</span> nombre = <span class="string">'Pikachu'</span>;
            </div>

            <h3>Actualizar m√∫ltiples columnas:</h3>
            <div class="code-block">
                <span class="keyword">UPDATE</span> pokemon
                <span class="keyword">SET</span> nivel = <span class="string">35</span>, hp = <span
                    class="string">40</span>, ataque = <span class="string">60</span>
                <span class="keyword">WHERE</span> nombre = <span class="string">'Pikachu'</span>;
            </div>

            <div class="warning-box">
                <strong>‚ö†Ô∏è MUY IMPORTANTE:</strong><br>
                ¬°Siempre usa <code>WHERE</code> en UPDATE! Si no lo pones,
                modificar√°s TODAS las filas de la tabla.<br><br>
                ‚ùå <code>UPDATE pokemon SET nivel = 100</code> ‚Üí ¬°Todos los Pok√©mon tendr√°n nivel 100!<br>
                ‚úÖ <code>UPDATE pokemon SET nivel = 100 WHERE id = 1</code> ‚Üí Solo Pikachu sube de nivel
            </div>
        </div>

        <div class="section">
            <h2>üóëÔ∏è DELETE - Eliminar Datos</h2>
            <p>
                <code>DELETE</code> se usa para <strong>eliminar filas</strong> de una tabla.
            </p>

            <h3>Sintaxis:</h3>
            <div class="code-block">
                <span class="keyword">DELETE FROM</span> tabla
                <span class="keyword">WHERE</span> condicion;
            </div>

            <h3>Ejemplo - Eliminar un Pok√©mon:</h3>
            <div class="code-block">
                <span class="keyword">DELETE FROM</span> pokemon
                <span class="keyword">WHERE</span> id = <span class="string">1</span>;
            </div>

            <div class="warning-box">
                <strong>‚ö†Ô∏è EXTREMADAMENTE IMPORTANTE:</strong><br>
                <code>DELETE</code> es PERMANENTE. No hay "ctrl+z" en bases de datos reales.<br><br>
                ‚ùå <code>DELETE FROM pokemon</code> ‚Üí ¬°Elimina TODOS los Pok√©mon!<br>
                ‚úÖ <code>DELETE FROM pokemon WHERE id = 1</code> ‚Üí Solo elimina del Pok√©mon con id 1<br><br>
                <strong>Siempre usa WHERE</strong> para especificar QU√â quieres eliminar.
            </div>
        </div>

        <!-- EJERCICIO 1: INSERT PRACTICE -->
        <div class="exercise-box">
            <h3>üéÆ Ejercicio 1: Practica INSERT</h3>
            <p>Agrega un nuevo Pok√©mon a la tabla:</p>

            <div class="crud-form">
                <label>Nombre:</label>
                <input type="text" id="insertNombre" placeholder="Ej: Eevee">

                <label>Tipo:</label>
                <select id="insertTipo">
                    <option value="Fuego">Fuego</option>
                    <option value="Agua">Agua</option>
                    <option value="Planta">Planta</option>
                    <option value="El√©ctrico">El√©ctrico</option>
                    <option value="Ps√≠quico">Ps√≠quico</option>
                    <option value="Normal">Normal</option>
                    <option value="Drag√≥n">Drag√≥n</option>
                </select>

                <label>Nivel:</label>
                <input type="number" id="insertNivel" placeholder="1-100" min="1" max="100">

                <label>HP:</label>
                <input type="number" id="insertHp" placeholder="10-200" min="10" max="200">

                <label>Ataque:</label>
                <input type="number" id="insertAtaque" placeholder="10-200" min="10" max="200">

                <div class="sql-preview" id="insertPreview">INSERT INTO pokemon (...) VALUES (...);</div>

                <button class="action-btn" onclick="insertPokemon()">‚ûï Agregar Pok√©mon</button>
                <div class="result-message" id="insertResult"></div>
            </div>

            <h4 style="color: #a78bfa; margin-top: 20px;">Tabla Pokemon:</h4>
            <table class="data-table" id="pokemonTable"></table>
        </div>

        <!-- EJERCICIO 2: UPDATE/DELETE -->
        <div class="exercise-box">
            <h3>üéÆ Ejercicio 2: Actualiza o Elimina</h3>
            <p>Selecciona un Pok√©mon de la tabla de arriba por su ID y modif√≠calo:</p>

            <div class="crud-form">
                <label>ID del Pok√©mon a modificar:</label>
                <input type="number" id="updateId" placeholder="Ej: 1" min="1">

                <label>Nuevo Nivel:</label>
                <input type="number" id="updateNivel" placeholder="Nuevo nivel" min="1" max="100">

                <label>Nuevo Ataque:</label>
                <input type="number" id="updateAtaque" placeholder="Nuevo ataque" min="10" max="200">

                <div class="sql-preview" id="updatePreview">UPDATE pokemon SET ...</div>

                <button class="action-btn update" onclick="updatePokemon()">üîÑ Actualizar</button>
                <button class="action-btn delete" onclick="deletePokemon()">üóëÔ∏è Eliminar</button>
                <div class="result-message" id="updateResult"></div>
            </div>
        </div>

        <div class="section">
            <h2>üéì Resumen del M√≥dulo</h2>
            <ul>
                <li>‚úÖ <code>INSERT INTO</code> agrega nuevas filas a la tabla</li>
                <li>‚úÖ <code>UPDATE SET</code> modifica datos existentes</li>
                <li>‚úÖ <code>DELETE FROM</code> elimina filas de la tabla</li>
                <li>‚úÖ <strong>SIEMPRE usa WHERE</strong> con UPDATE y DELETE</li>
                <li>‚úÖ CRUD = Create, Read, Update, Delete</li>
                <li>‚úÖ Con estos comandos puedes gestionar cualquier base de datos</li>
            </ul>
        </div>

        <div class="button-group">
            <a href="modulo4.html" class="btn btn-secondary">
                ‚Üê M√≥dulo Anterior
            </a>
            <button onclick="completarDia()" class="btn btn-primary">
                üéâ ¬°Completar D√≠a 11!
            </button>
        </div>
    </div>

    <script>
        // Pokemon database
        let pokemonDB = [
            { id: 1, nombre: "Pikachu", tipo: "El√©ctrico", nivel: 25, hp: 35, ataque: 55 },
            { id: 2, nombre: "Charizard", tipo: "Fuego", nivel: 55, hp: 78, ataque: 84 },
            { id: 3, nombre: "Blastoise", tipo: "Agua", nivel: 50, hp: 79, ataque: 83 }
        ];
        let nextId = 4;

        function renderTable() {
            const table = document.getElementById('pokemonTable');
            let html = '<thead><tr><th>id</th><th>nombre</th><th>tipo</th><th>nivel</th><th>hp</th><th>ataque</th></tr></thead><tbody>';

            pokemonDB.forEach(p => {
                html += `<tr class="${p.className || ''}">
          <td>${p.id}</td>
          <td>${p.nombre}</td>
          <td>${p.tipo}</td>
          <td>${p.nivel}</td>
          <td>${p.hp}</td>
          <td>${p.ataque}</td>
        </tr>`;
            });

            html += '</tbody>';
            table.innerHTML = html;
        }

        // UPDATE INSERT PREVIEW
        document.getElementById('insertNombre')?.addEventListener('input', updateInsertPreview);
        document.getElementById('insertTipo')?.addEventListener('change', updateInsertPreview);
        document.getElementById('insertNivel')?.addEventListener('input', updateInsertPreview);
        document.getElementById('insertHp')?.addEventListener('input', updateInsertPreview);
        document.getElementById('insertAtaque')?.addEventListener('input', updateInsertPreview);

        function updateInsertPreview() {
            const nombre = document.getElementById('insertNombre').value || '?';
            const tipo = document.getElementById('insertTipo').value;
            const nivel = document.getElementById('insertNivel').value || '?';
            const hp = document.getElementById('insertHp').value || '?';
            const ataque = document.getElementById('insertAtaque').value || '?';

            const sql = `INSERT INTO pokemon (nombre, tipo, nivel, hp, ataque)\nVALUES ('${nombre}', '${tipo}', ${nivel}, ${hp}, ${ataque});`;
            document.getElementById('insertPreview').textContent = sql;
        }

        function insertPokemon() {
            const nombre = document.getElementById('insertNombre').value.trim();
            const tipo = document.getElementById('insertTipo').value;
            const nivel = parseInt(document.getElementById('insertNivel').value);
            const hp = parseInt(document.getElementById('insertHp').value);
            const ataque = parseInt(document.getElementById('insertAtaque').value);

            const result = document.getElementById('insertResult');

            if (!nombre || !nivel || !hp || !ataque) {
                result.className = 'result-message error';
                result.textContent = '‚ùå Por favor completa todos los campos';
                return;
            }

            const newPokemon = {
                id: nextId++,
                nombre,
                tipo,
                nivel,
                hp,
                ataque,
                className: 'new-row'
            };

            pokemonDB.push(newPokemon);
            renderTable();

            result.className = 'result-message success';
            result.textContent = `‚úÖ ¬°${nombre} agregado exitosamente! SQL ejecutado: INSERT INTO pokemon...`;

            // Clear form
            document.getElementById('insertNombre').value = '';
            document.getElementById('insertNivel').value = '';
            document.getElementById('insertHp').value = '';
            document.getElementById('insertAtaque').value = '';
            updateInsertPreview();

            setTimeout(() => {
                pokemonDB.forEach(p => delete p.className);
                renderTable();
            }, 2000);
        }

        // UPDATE PREVIEW
        document.getElementById('updateId')?.addEventListener('input', updateUpdatePreview);
        document.getElementById('updateNivel')?.addEventListener('input', updateUpdatePreview);
        document.getElementById('updateAtaque')?.addEventListener('input', updateUpdatePreview);

        function updateUpdatePreview() {
            const id = document.getElementById('updateId').value || '?';
            const nivel = document.getElementById('updateNivel').value;
            const ataque = document.getElementById('updateAtaque').value;

            let sets = [];
            if (nivel) sets.push(`nivel = ${nivel}`);
            if (ataque) sets.push(`ataque = ${ataque}`);

            const sql = `UPDATE pokemon SET ${sets.join(', ') || '...'} WHERE id = ${id};`;
            document.getElementById('updatePreview').textContent = sql;
        }

        function updatePokemon() {
            const id = parseInt(document.getElementById('updateId').value);
            const nivel = document.getElementById('updateNivel').value;
            const ataque = document.getElementById('updateAtaque').value;

            const result = document.getElementById('updateResult');

            if (!id) {
                result.className = 'result-message error';
                result.textContent = '‚ùå Ingresa el ID del Pok√©mon';
                return;
            }

            const pokemon = pokemonDB.find(p => p.id === id);
            if (!pokemon) {
                result.className = 'result-message error';
                result.textContent = '‚ùå No existe un Pok√©mon con ese ID';
                return;
            }

            if (!nivel && !ataque) {
                result.className = 'result-message error';
                result.textContent = '‚ùå Especifica al menos un valor a actualizar';
                return;
            }

            if (nivel) pokemon.nivel = parseInt(nivel);
            if (ataque) pokemon.ataque = parseInt(ataque);
            pokemon.className = 'updated-row';

            renderTable();

            result.className = 'result-message success';
            result.textContent = `‚úÖ ¬°${pokemon.nombre} actualizado! SQL ejecutado: UPDATE pokemon...`;

            setTimeout(() => {
                pokemonDB.forEach(p => delete p.className);
                renderTable();
            }, 2000);
        }

        function deletePokemon() {
            const id = parseInt(document.getElementById('updateId').value);
            const result = document.getElementById('updateResult');

            if (!id) {
                result.className = 'result-message error';
                result.textContent = '‚ùå Ingresa el ID del Pok√©mon a eliminar';
                return;
            }

            const index = pokemonDB.findIndex(p => p.id === id);
            if (index === -1) {
                result.className = 'result-message error';
                result.textContent = '‚ùå No existe un Pok√©mon con ese ID';
                return;
            }

            const pokemon = pokemonDB[index];

            if (!confirm(`‚ö†Ô∏è ¬øEst√°s seguro de eliminar a ${pokemon.nombre}? Esta acci√≥n no se puede deshacer.`)) {
                return;
            }

            pokemon.className = 'deleted-row';
            renderTable();

            setTimeout(() => {
                pokemonDB.splice(index, 1);
                renderTable();

                result.className = 'result-message success';
                result.textContent = `‚úÖ ${pokemon.nombre} eliminado. SQL ejecutado: DELETE FROM pokemon WHERE id = ${id};`;
            }, 1000);
        }

        function completarDia() {
            // Guardar en localStorage que D√≠a 11 est√° completado
            let completedDays = JSON.parse(localStorage.getItem('completedDays')) || [];

            // Agregar d√≠a 11 si no est√° ya
            if (!completedDays.includes(11)) {
                completedDays.push(11);
            }

            localStorage.setItem('completedDays', JSON.stringify(completedDays));

            // Mostrar mensaje
            alert('üéâ ¬°D√≠a 11 completado! Redirigiendo al men√∫...');

            // Redirigir a menu.html
            window.location.href = '../menu.html';
        }

        // Initialize
        window.onload = function () {
            renderTable();
            updateInsertPreview();
            updateUpdatePreview();
        };
    </script>
</body>

</html>