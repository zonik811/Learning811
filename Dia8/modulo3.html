<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>D√≠a 8 - M√≥dulo 3: Eventos Avanzados</title>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: linear-gradient(150deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
  font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
  color: #e8eaf6;
  padding: 20px;
  min-height: 100vh;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
}

/* Hero */
.hero {
  text-align: center;
  padding: 60px 20px;
  background: linear-gradient(135deg, rgba(102,126,234,0.15), rgba(118,75,162,0.15));
  border-radius: 20px;
  margin-bottom: 40px;
  border: 1px solid rgba(102,126,234,0.3);
}

.hero h1 {
  font-size: 3.5rem;
  background: linear-gradient(90deg, #667eea, #764ba2);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  margin-bottom: 20px;
}

.hero p {
  font-size: 1.3rem;
  color: #b8c1ec;
  max-width: 800px;
  margin: 0 auto;
}

/* Secciones */
.section {
  background: rgba(30,27,75,0.6);
  padding: 40px;
  border-radius: 16px;
  margin-bottom: 30px;
  border: 1px solid rgba(102,126,234,0.2);
  backdrop-filter: blur(10px);
}

.section h2 {
  font-size: 2rem;
  color: #667eea;
  margin-bottom: 20px;
  display: flex;
  align-items: center;
  gap: 12px;
}

.section p, .section li {
  font-size: 1.1rem;
  line-height: 1.8;
  margin-bottom: 15px;
  color: #d1d5f0;
}

/* Demo interactiva */
.demo-box {
  background: linear-gradient(135deg, rgba(102,126,234,0.1), rgba(118,75,162,0.1));
  padding: 30px;
  border-radius: 12px;
  border: 2px solid rgba(102,126,234,0.3);
  margin: 25px 0;
}

.demo-title {
  font-size: 1.2rem;
  color: #a78bfa;
  margin-bottom: 20px;
  font-weight: 600;
}

/* Elemento demo */
.demo-element {
  background: rgba(102,126,234,0.2);
  padding: 20px;
  border-radius: 8px;
  border: 2px dashed rgba(102,126,234,0.5);
  margin: 15px 0;
  min-height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.1rem;
  transition: all 0.3s;
}

/* Botones */
.btn {
  background: linear-gradient(135deg, #667eea, #764ba2);
  color: white;
  border: none;
  padding: 12px 30px;
  border-radius: 8px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s;
  margin: 5px;
}

.btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 5px 20px rgba(102,126,234,0.4);
}

.btn-secondary {
  background: linear-gradient(135deg, #f093fb, #f5576c);
}

.btn-success {
  background: linear-gradient(135deg, #4facfe, #00f2fe);
}

.btn-danger {
  background: linear-gradient(135deg, #ff6b6b, #ff8e53);
}

/* Input */
.input {
  background: rgba(30,27,75,0.8);
  border: 2px solid rgba(102,126,234,0.5);
  color: white;
  padding: 12px 20px;
  border-radius: 8px;
  font-size: 1rem;
  width: 100%;
  max-width: 400px;
  margin: 10px 0;
}

.input:focus {
  outline: none;
  border-color: #667eea;
  box-shadow: 0 0 15px rgba(102,126,234,0.5);
}

/* Code block */
.code {
  background: #1a1625;
  padding: 20px;
  border-radius: 8px;
  border-left: 4px solid #667eea;
  font-family: 'Courier New', monospace;
  color: #7dd3fc;
  overflow-x: auto;
  margin: 20px 0;
  font-size: 0.95rem;
  line-height: 1.8;
}

.code-label {
  font-size: 0.85rem;
  color: #a78bfa;
  margin-bottom: 10px;
  text-transform: uppercase;
  letter-spacing: 1px;
}

/* Grid de cards */
.card-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 20px;
  margin: 20px 0;
}

.card {
  background: rgba(102,126,234,0.15);
  padding: 25px;
  border-radius: 12px;
  border: 1px solid rgba(102,126,234,0.3);
  transition: all 0.3s;
  cursor: pointer;
}

.card:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 30px rgba(102,126,234,0.3);
}

.card.active {
  background: rgba(102,126,234,0.4);
  border-color: #667eea;
}

/* Event log */
.event-log {
  background: rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(102,126,234,0.3);
  border-radius: 8px;
  padding: 15px;
  margin: 15px 0;
  max-height: 300px;
  overflow-y: auto;
  font-family: monospace;
  font-size: 0.9rem;
}

.event-item {
  color: #a78bfa;
  padding: 8px 0;
  border-bottom: 1px solid rgba(102,126,234,0.1);
}

.event-item:last-child {
  border-bottom: none;
}

/* Resultados */
.result {
  background: rgba(76,175,80,0.2);
  border-left: 4px solid #4caf50;
  padding: 15px 20px;
  border-radius: 8px;
  margin: 15px 0;
  display: none;
}

.result.show {
  display: block;
  animation: slideIn 0.3s;
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Bot√≥n grande */
.btn-large {
  padding: 18px 60px;
  font-size: 1.2rem;
  display: block;
  width: fit-content;
  margin: 40px auto;
  text-decoration: none;
  text-align: center;
}

.live-output {
  background: rgba(30, 30, 30, 0.9);
  border: 1px solid rgba(102,126,234,0.3);
  border-radius: 8px;
  padding: 20px;
  margin: 15px 0;
  color: #a78bfa;
  min-height: 60px;
  font-family: monospace;
  white-space: pre-wrap;
  word-break: break-all;
}

.selector-option {
  background: rgba(102,126,234,0.15);
  padding: 20px;
  border-radius: 8px;
  border: 2px solid rgba(102,126,234,0.3);
  cursor: pointer;
  transition: all 0.3s;
  text-align: center;
  font-weight: 600;
}

.selector-option:hover {
  border-color: #667eea;
  background: rgba(102,126,234,0.3);
}

.selector-option.selected {
  background: linear-gradient(135deg, #667eea, #764ba2);
  border-color: #667eea;
}

@media (max-width: 768px) {
  .hero h1 { font-size: 2.5rem; }
  .section { padding: 25px; }
  .card-grid { grid-template-columns: 1fr; }
}
</style>
</head>
<body>
<div class="container">

  <!-- Hero -->
  <div class="hero">
    <h1>‚ö° M√≥dulo 3: Eventos Avanzados</h1>
    <p>Domina los eventos del navegador, propaga eventos y delega acciones de forma eficiente.</p>
  </div>

  <!-- Secci√≥n 1: Tipos de Eventos -->
 <div class="section">
  <h2>üé™ Tipos de Eventos Principales</h2>
  <p>
    El navegador dispara <b>eventos constantemente</b>. Los eventos son acciones que el usuario realiza 
    (o que el sistema genera). Aqu√≠ est√°n los m√°s comunes que debes conocer y c√≥mo capturarlos:
  </p>

  <h3 style="color: #a78bfa; margin-top: 25px; margin-bottom: 15px;">üì± Eventos del Mouse</h3>
  
  <div class="code">
    <b>click</b> - Clic simple del rat√≥n
    <br><code>elemento.addEventListener('click', function(e) {</code>
    <br><code>&nbsp;&nbsp;console.log('Usuario hizo clic');</code>
    <br><code>});</code>
  </div>

  <div class="code">
    <b>dblclick</b> - Doble clic
    <br><code>elemento.addEventListener('dblclick', function(e) {</code>
    <br><code>&nbsp;&nbsp;console.log('Usuario hizo doble clic');</code>
    <br><code>});</code>
  </div>

  <div class="code">
    <b>mouseover / mouseout</b> - Pasar mouse por encima o salir
    <br><code>elemento.addEventListener('mouseover', function(e) {</code>
    <br><code>&nbsp;&nbsp;console.log('Mouse entr√≥');</code>
    <br><code>});</code>
  </div>

  <div class="code">
    <b>mouseenter / mouseleave</b> - Similar pero sin bubbling
    <br><code>elemento.addEventListener('mouseenter', function(e) {</code>
    <br><code>&nbsp;&nbsp;console.log('Mouse entr√≥ al elemento');</code>
    <br><code>});</code>
  </div>

  <h3 style="color: #a78bfa; margin-top: 25px; margin-bottom: 15px;">‚å®Ô∏è Eventos del Teclado</h3>

  <div class="code">
    <b>keydown</b> - Presionar una tecla (se dispara mientras se mantiene presionada)
    <br><code>documento.addEventListener('keydown', function(e) {</code>
    <br><code>&nbsp;&nbsp;console.log('Tecla presionada:', e.key, 'C√≥digo:', e.keyCode);</code>
    <br><code>});</code>
  </div>

  <div class="code">
    <b>keyup</b> - Soltar una tecla (se dispara cuando se suelta)
    <br><code>documento.addEventListener('keyup', function(e) {</code>
    <br><code>&nbsp;&nbsp;console.log('Tecla soltada:', e.key);</code>
    <br><code>});</code>
  </div>

  <h3 style="color: #a78bfa; margin-top: 25px; margin-bottom: 15px;">üìù Eventos de Entrada (Inputs)</h3>

  <div class="code">
    <b>input</b> - Se dispara cada vez que cambia el valor (mientras escribes)
    <br><code>input.addEventListener('input', function(e) {</code>
    <br><code>&nbsp;&nbsp;console.log('Texto actual:', e.target.value);</code>
    <br><code>});</code>
  </div>

  <div class="code">
    <b>focus</b> - Se dispara cuando el input recibe el foco
    <br><code>input.addEventListener('focus', function(e) {</code>
    <br><code>&nbsp;&nbsp;console.log('Input enfocado');</code>
    <br><code>});</code>
  </div>

  <div class="code">
    <b>blur</b> - Se dispara cuando el input pierde el foco
    <br><code>input.addEventListener('blur', function(e) {</code>
    <br><code>&nbsp;&nbsp;console.log('Input desenfocado');</code>
    <br><code>});</code>
  </div>

  <h3 style="color: #a78bfa; margin-top: 25px; margin-bottom: 15px;">üìã Eventos de Formulario</h3>

  <div class="code">
    <b>submit</b> - Se dispara cuando env√≠as un formulario
    <br><code>formulario.addEventListener('submit', function(e) {</code>
    <br><code>&nbsp;&nbsp;e.preventDefault();  // Evita recargar la p√°gina</code>
    <br><code>&nbsp;&nbsp;console.log('Formulario enviado');</code>
    <br><code>});</code>
  </div>

  <div class="code">
    <b>change</b> - Se dispara cuando el valor de un select o checkbox cambia
    <br><code>select.addEventListener('change', function(e) {</code>
    <br><code>&nbsp;&nbsp;console.log('Nuevo valor:', e.target.value);</code>
    <br><code>});</code>
  </div>

  <!-- Demo Interactiva: Logger de Eventos -->
  <div class="demo-box">
    <div class="demo-title">üéÆ Ejercicio 1: Visualiza los Eventos en Tiempo Real</div>
    <p><b>Objetivo:</b> Haz diferentes acciones y observa los eventos que se disparan en el logger.</p>
    
    <div id="eventElement" class="demo-element" style="margin-bottom:12px;padding:20px;cursor:pointer;user-select:none;">
      ‚¨ÖÔ∏è Haz clic aqu√≠ / Doble clic / Pasa el mouse
    </div>
    
    <input id="eventInput" type="text" class="input" placeholder="üëâ Escribe aqu√≠ para ver eventos de teclado e input..." style="margin-bottom:12px;">
    
    <div id="eventLog" style="
      background:#1a1a1a;
      color:#0f0;
      padding:12px;
      border-radius:6px;
      font-family:monospace;
      font-size:12px;
      max-height:200px;
      overflow-y:auto;
      border:2px solid #0f0;
      margin-bottom:12px;
    "></div>
    
    <button class="btn btn-danger" onclick="clearLog()">Limpiar Log</button>
  </div>

  <!-- Ejercicio 2: Contador de Clics -->
  <div class="demo-box" style="margin-top:16px;">
    <div class="demo-title">üéÆ Ejercicio 2: Contador de Clics</div>
    <p><b>Objetivo:</b> Cuenta cu√°ntas veces haces clic. Aprende que los eventos se pueden disparar m√∫ltiples veces.</p>
    <div style="text-align:center;margin-bottom:12px;">
      <button id="clickButton" class="btn" style="font-size:1.2rem;padding:20px 40px;">Haz clic aqu√≠</button>
    </div>
    <div style="text-align:center;">
      <p style="font-size:1.8rem;font-weight:bold;margin:0;">Clics: <span id="clickCount">0</span></p>
    </div>
    <button class="btn btn-secondary" onclick="resetClickCount()" style="width:100%;margin-top:12px;">Resetear contador</button>
  </div>

  <!-- Ejercicio 3: Monitorear Mouse -->
  <div class="demo-box" style="margin-top:16px;">
    <div class="demo-title">üéÆ Ejercicio 3: Monitorear Eventos del Mouse</div>
    <p><b>Objetivo:</b> Observa la diferencia entre mouseover/mouseout y mouseenter/mouseleave.</p>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:12px;">
      <div id="mouseBox1" style="padding:20px;background:#ff6b6b;border-radius:6px;text-align:center;color:white;font-weight:bold;">
        mouseover/out
      </div>
      <div id="mouseBox2" style="padding:20px;background:#4ecdc4;border-radius:6px;text-align:center;color:white;font-weight:bold;">
        mouseenter/leave
      </div>
    </div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
      <div style="background:#e0e0e0;padding:8px;border-radius:6px;font-size:12px;">
        <b>mouseover/out:</b> <span id="mouseCount1">0</span>
      </div>
      <div style="background:#e0e0e0;padding:8px;border-radius:6px;font-size:12px;">
        <b>mouseenter/leave:</b> <span id="mouseCount2">0</span>
      </div>
    </div>
    <button class="btn btn-secondary" onclick="resetMouseCounts()" style="width:100%;margin-top:12px;">Resetear</button>
  </div>

  <!-- Ejercicio 4: Detectar Teclas Espec√≠ficas -->
  <div class="demo-box" style="margin-top:16px;">
    <div class="demo-title">üéÆ Ejercicio 4: Detectar Teclas Espec√≠ficas</div>
    <p><b>Objetivo:</b> Presiona las teclas flecha arriba, abajo, izquierda, derecha y observa qu√© sucede.</p>
    <input id="keyInput" type="text" class="input" placeholder="Presiona las flechas del teclado aqu√≠..." style="margin-bottom:12px;">
    <div id="keyDisplay" style="text-align:center;font-size:3rem;margin:20px 0;">‚¨ÜÔ∏è</div>
    <div style="text-align:center;font-size:12px;">
      <p>√öltima tecla: <b id="lastKeyDisplay">ninguna</b></p>
    </div>
  </div>

  <!-- Ejercicio 5: Validaci√≥n en Tiempo Real -->
  <div class="demo-box" style="margin-top:16px;">
    <div class="demo-title">üéÆ Ejercicio 5: Validaci√≥n en Tiempo Real con 'input'</div>
    <p><b>Objetivo:</b> Valida un email mientras escribes. Los eventos 'input' te permiten reaccionar al instante.</p>
    <input id="emailInput" type="text" class="input" placeholder="Escribe un email (debe contener @)..." style="margin-bottom:12px;">
    <div id="validationStatus" style="padding:10px;border-radius:6px;text-align:center;font-weight:bold;display:none;">
      <!-- Se actualiza en tiempo real -->
    </div>
  </div>

</div>

<script>
// ========== LOGGER DE EVENTOS ==========
let logCount = 0;
function addLog(mensaje) {
  logCount++;
  const log = document.getElementById('eventLog');
  const timestamp = new Date().toLocaleTimeString();
  const entry = document.createElement('div');
  entry.textContent = `[${timestamp}] ${logCount}. ${mensaje}`;
  log.appendChild(entry);
  log.scrollTop = log.scrollHeight;
  if(logCount > 20) {
    log.removeChild(log.firstChild);
  }
}

function clearLog() {
  document.getElementById('eventLog').innerHTML = '';
  logCount = 0;
}

// Eventos del elemento
const eventElement = document.getElementById('eventElement');
eventElement.addEventListener('click', () => addLog('üñ±Ô∏è CLICK'));
eventElement.addEventListener('dblclick', () => addLog('üñ±Ô∏è DOBLE CLICK'));
eventElement.addEventListener('mouseover', () => addLog('üñ±Ô∏è MOUSEOVER'));
eventElement.addEventListener('mouseout', () => addLog('üñ±Ô∏è MOUSEOUT'));

// Eventos del input
const eventInput = document.getElementById('eventInput');
eventInput.addEventListener('input', (e) => addLog(`‚å®Ô∏è INPUT: "${e.target.value}"`));
eventInput.addEventListener('keydown', (e) => addLog(`‚å®Ô∏è KEYDOWN: ${e.key}`));
eventInput.addEventListener('keyup', (e) => addLog(`‚å®Ô∏è KEYUP: ${e.key}`));
eventInput.addEventListener('focus', () => addLog('‚å®Ô∏è FOCUS'));
eventInput.addEventListener('blur', () => addLog('‚å®Ô∏è BLUR'));

// ========== EJERCICIO 2: Contador de Clics ==========
let clickCount = 0;
document.getElementById('clickButton').addEventListener('click', () => {
  clickCount++;
  document.getElementById('clickCount').textContent = clickCount;
});

function resetClickCount() {
  clickCount = 0;
  document.getElementById('clickCount').textContent = '0';
}

// ========== EJERCICIO 3: Monitorear Mouse ==========
let mouseCount1 = 0, mouseCount2 = 0;
const mouseBox1 = document.getElementById('mouseBox1');
const mouseBox2 = document.getElementById('mouseBox2');

mouseBox1.addEventListener('mouseover', () => {
  mouseCount1++;
  document.getElementById('mouseCount1').textContent = mouseCount1;
});

mouseBox2.addEventListener('mouseenter', () => {
  mouseCount2++;
  document.getElementById('mouseCount2').textContent = mouseCount2;
});

function resetMouseCounts() {
  mouseCount1 = 0;
  mouseCount2 = 0;
  document.getElementById('mouseCount1').textContent = '0';
  document.getElementById('mouseCount2').textContent = '0';
}

// ========== EJERCICIO 4: Detectar Teclas ==========
const keyInput = document.getElementById('keyInput');
const keyDisplay = document.getElementById('keyDisplay');
const lastKeyDisplay = document.getElementById('lastKeyDisplay');

const keyArrows = {
  'ArrowUp': '‚¨ÜÔ∏è',
  'ArrowDown': '‚¨áÔ∏è',
  'ArrowLeft': '‚¨ÖÔ∏è',
  'ArrowRight': '‚û°Ô∏è'
};

keyInput.addEventListener('keydown', (e) => {
  if(keyArrows[e.key]) {
    keyDisplay.textContent = keyArrows[e.key];
    lastKeyDisplay.textContent = e.key;
  }
});

// ========== EJERCICIO 5: Validaci√≥n Email ==========
const emailInput = document.getElementById('emailInput');
const validationStatus = document.getElementById('validationStatus');

emailInput.addEventListener('input', (e) => {
  const email = e.target.value;
  const isValid = email.includes('@') && email.includes('.');
  
  if(email.length === 0) {
    validationStatus.style.display = 'none';
  } else if(isValid) {
    validationStatus.style.display = 'block';
    validationStatus.textContent = '‚úÖ Email v√°lido';
    validationStatus.style.background = '#c8e6c9';
    validationStatus.style.color = '#2d5016';
  } else {
    validationStatus.style.display = 'block';
    validationStatus.textContent = '‚ùå Email inv√°lido (debe tener @ y .)';
    validationStatus.style.background = '#ffcccc';
    validationStatus.style.color = '#c33';
  }
});
</script>

<style>
  #eventLog::-webkit-scrollbar {
    width: 8px;
  }
  #eventLog::-webkit-scrollbar-track {
    background: #333;
  }
  #eventLog::-webkit-scrollbar-thumb {
    background: #0f0;
    border-radius: 4px;
  }
</style>


  <!-- Secci√≥n 2: El Objeto Event -->
 <div class="section">
  <h2>üì¶ El Objeto Event - Informaci√≥n del Evento</h2>
  <p>
    Cada vez que ocurre un evento (un clic, una tecla presionada, etc.), el navegador <b>crea autom√°ticamente un objeto</b> 
    llamado <code>event</code> (o <code>e</code>) que contiene <b>toda la informaci√≥n sobre qu√© sucedi√≥</b>. 
    Es como si el navegador dijera: "Oye, el usuario hizo esto, aqu√≠ tienes los detalles".
  </p>

  <h3 style="color: #a78bfa; margin-top: 25px; margin-bottom: 15px;">üéØ ¬øQu√© informaci√≥n tiene el Objeto Event?</h3>
  
  <p>
    Algunos de los datos m√°s √∫tiles:
  </p>
  <ul>
    <li><b>e.type</b>: Tipo de evento ('click', 'keydown', 'input', etc.)</li>
    <li><b>e.target</b>: El elemento HTML donde ocurri√≥ el evento</li>
    <li><b>e.clientX / e.clientY</b>: Posici√≥n del mouse en la pantalla</li>
    <li><b>e.key</b>: La tecla presionada ('a', 'Enter', 'Shift', etc.)</li>
    <li><b>e.code</b>: C√≥digo de la tecla ('KeyA', 'Enter', 'ShiftLeft')</li>
    <li><b>e.timeStamp</b>: Momento exacto en que ocurri√≥ el evento</li>
  </ul>

  <!-- EJERCICIO 1: Informaci√≥n B√°sica del Click -->
  <div class="demo-box">
    <div class="demo-title">üéÆ Ejercicio 1: Informaci√≥n B√°sica del Click</div>
    <p><b>Objetivo:</b> Haz clic en el elemento y observa qu√© informaci√≥n contiene el evento.</p>
    
    <div id="clickDemo" class="demo-element" style="cursor:pointer;margin-bottom:12px;padding:20px;text-align:center;">
      üëÜ Haz clic aqu√≠
    </div>
    
    <!-- Mostrador de informaci√≥n -->
    <div style="background:#383b7c;border-radius:6px;padding:12px;margin-bottom:12px;">
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
        <div>
          <b style="color:#667eea;">Tipo de evento:</b>
          <div id="output1Type" style="background:#383b7c;padding:8px;border-radius:4px;margin-top:4px;font-family:monospace;">-</div>
        </div>
        <div>
          <b style="color:#667eea;">Elemento clickeado:</b>
          <div id="output1Target" style="background:#383b7c;padding:8px;border-radius:4px;margin-top:4px;font-family:monospace;">-</div>
        </div>
        <div>
          <b style="color:#667eea;">Posici√≥n X del mouse:</b>
          <div id="output1X" style="background:#383b7c;padding:8px;border-radius:4px;margin-top:4px;font-family:monospace;">-</div>
        </div>
        <div>
          <b style="color:#667eea;">Posici√≥n Y del mouse:</b>
          <div id="output1Y" style="background:#383b7c;padding:8px;border-radius:4px;margin-top:4px;font-family:monospace;">-</div>
        </div>
      </div>
    </div>
  </div>

  <!-- EJERCICIO 2: Informaci√≥n de Teclado -->
  <div class="demo-box" style="margin-top:16px;">
    <div class="demo-title">üéÆ Ejercicio 2: Informaci√≥n de Teclado</div>
    <p><b>Objetivo:</b> Presiona teclas en el input y observa la informaci√≥n que genera cada evento.</p>
    
    <input id="keyboardDemo" type="text" class="input" placeholder="Presiona teclas aqu√≠..." style="margin-bottom:12px;">
    
    <!-- Mostrador de informaci√≥n -->
    <div style="background:#383b7c;border-radius:6px;padding:12px;">
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
        <div>
          <b style="color:#667eea;">Tecla presionada (e.key):</b>
          <div id="output2Key" style="background:#383b7c;padding:8px;border-radius:4px;margin-top:4px;font-family:monospace;font-size:1.2rem;">-</div>
        </div>
        <div>
          <b style="color:#667eea;">C√≥digo de tecla (e.code):</b>
          <div id="output2Code" style="background:#383b7c;padding:8px;border-radius:4px;margin-top:4px;font-family:monospace;">-</div>
        </div>
        <div>
          <b style="color:#667eea;">¬øShift presionado?</b>
          <div id="output2Shift" style="background:#383b7c;padding:8px;border-radius:4px;margin-top:4px;font-family:monospace;">-</div>
        </div>
        <div>
          <b style="color:#667eea;">¬øControl presionado?</b>
          <div id="output2Ctrl" style="background:#383b7c;padding:8px;border-radius:4px;margin-top:4px;font-family:monospace;">-</div>
        </div>
      </div>
    </div>
  </div>

  <!-- EJERCICIO 3: Informaci√≥n de Input (escritura) -->
  <div class="demo-box" style="margin-top:16px;">
    <div class="demo-title">üéÆ Ejercicio 3: Informaci√≥n del Evento 'input'</div>
    <p><b>Objetivo:</b> Escribe en el input y observa c√≥mo cambia la informaci√≥n en tiempo real.</p>
    
    <input id="inputDemo" type="text" class="input" placeholder="Escribe algo..." style="margin-bottom:12px;">
    
    <!-- Mostrador de informaci√≥n -->
    <div style="background:#383b7c;border-radius:6px;padding:12px;">
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
        <div>
          <b style="color:#667eea;">Texto actual:</b>
          <div id="output3Value" style="background:#383b7c;padding:8px;border-radius:4px;margin-top:4px;font-family:monospace;">-</div>
        </div>
        <div>
          <b style="color:#667eea;">Longitud del texto:</b>
          <div id="output3Length" style="background:#383b7c;padding:8px;border-radius:4px;margin-top:4px;font-family:monospace;">-</div>
        </div>
        <div colspan="2">
          <b style="color:#667eea;">Tipo de evento:</b>
          <div id="output3Type" style="background:#383b7c;padding:8px;border-radius:4px;margin-top:4px;font-family:monospace;">-</div>
        </div>
      </div>
    </div>
  </div>

  <!-- EJERCICIO 4: Informaci√≥n de Mouse (movimiento) -->
  <div class="demo-box" style="margin-top:16px;">
    <div class="demo-title">üéÆ Ejercicio 4: Seguir Posici√≥n del Mouse</div>
    <p><b>Objetivo:</b> Mueve el mouse sobre el √°rea y observa c√≥mo cambian las coordenadas X e Y en tiempo real.</p>
    
    <div id="mouseTracker" style="
      width:100%;
      height:150px;
      background:#383b7c;
      border-radius:6px;
      border:2px dashed #667eea;
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:bold;
      margin-bottom:12px;
      cursor:crosshair;
      position:relative;
      overflow:hidden;
    ">
      Posici√≥n: 0, 0
    </div>
    
    <!-- Mostrador de informaci√≥n -->
    <div style="background:#383b7c;border-radius:6px;padding:12px;display:grid;grid-template-columns:1fr 1fr;gap:12px;">
      <div>
        <b style="color:#667eea;">Posici√≥n X:</b>
        <div id="output4X" style="background:#383b7c;padding:8px;border-radius:4px;margin-top:4px;font-family:monospace;font-size:1.1rem;">-</div>
      </div>
      <div>
        <b style="color:#667eea;">Posici√≥n Y:</b>
        <div id="output4Y" style="background:#383b7c;padding:8px;border-radius:4px;margin-top:4px;font-family:monospace;font-size:1.1rem;">-</div>
      </div>
    </div>
  </div>

  <!-- EJERCICIO 5: Comparar Todos los Datos -->
  <div class="demo-box" style="margin-top:16px;">
    <div class="demo-title">üéÆ Ejercicio 5: Resumen Completo del Evento</div>
    <p><b>Objetivo:</b> Haz clic en el bot√≥n y ve el resumen completo de TODOS los datos del evento.</p>
    
    <button id="summaryButton" class="btn" style="width:100%;padding:16px;font-size:1.1rem;">
      Haz clic para ver TODOS los datos del evento
    </button>
    
    <div id="summaryOutput" style="
      background:#1a1a1a;
      color:#0f0;
      padding:12px;
      border-radius:6px;
      font-family:monospace;
      font-size:11px;
      margin-top:12px;
      max-height:300px;
      overflow-y:auto;
      border:2px solid #0f0;
      display:none;
    "></div>
  </div>

</div>

<script>
// ========== EJERCICIO 1: Click Info ==========
document.getElementById('clickDemo').addEventListener('click', (e) => {
  document.getElementById('output1Type').textContent = e.type;
  document.getElementById('output1Target').textContent = e.target.tagName + (e.target.id ? '#' + e.target.id : '');
  document.getElementById('output1X').textContent = e.clientX + 'px';
  document.getElementById('output1Y').textContent = e.clientY + 'px';
});

// ========== EJERCICIO 2: Keyboard Info ==========
document.getElementById('keyboardDemo').addEventListener('keydown', (e) => {
  document.getElementById('output2Key').textContent = e.key;
  document.getElementById('output2Code').textContent = e.code;
  document.getElementById('output2Shift').textContent = e.shiftKey ? '‚úÖ S√ç' : '‚ùå NO';
  document.getElementById('output2Ctrl').textContent = e.ctrlKey ? '‚úÖ S√ç' : '‚ùå NO';
});

// ========== EJERCICIO 3: Input Info ==========
document.getElementById('inputDemo').addEventListener('input', (e) => {
  document.getElementById('output3Value').textContent = e.target.value || '(vac√≠o)';
  document.getElementById('output3Length').textContent = e.target.value.length;
  document.getElementById('output3Type').textContent = e.type;
});

// ========== EJERCICIO 4: Mouse Tracker ==========
const mouseTracker = document.getElementById('mouseTracker');
mouseTracker.addEventListener('mousemove', (e) => {
  const rect = mouseTracker.getBoundingClientRect();
  const x = e.clientX - rect.left;
  const y = e.clientY - rect.top;
  
  document.getElementById('output4X').textContent = Math.round(x) + 'px';
  document.getElementById('output4Y').textContent = Math.round(y) + 'px';
  
  mouseTracker.textContent = `Posici√≥n: ${Math.round(x)}, ${Math.round(y)}`;
});

// ========== EJERCICIO 5: Summary ==========
document.getElementById('summaryButton').addEventListener('click', (e) => {
  const output = document.getElementById('summaryOutput');
  output.style.display = 'block';
  
  const data = {
    'e.type': e.type,
    'e.target': e.target.tagName + (e.target.id ? '#' + e.target.id : ''),
    'e.clientX': e.clientX + 'px',
    'e.clientY': e.clientY + 'px',
    'e.pageX': e.pageX + 'px',
    'e.pageY': e.pageY + 'px',
    'e.timeStamp': e.timeStamp + 'ms',
    'e.isTrusted': e.isTrusted ? 'S√ç (evento real del usuario)' : 'NO (evento generado por JS)',
    'e.bubbles': e.bubbles ? 'S√ç' : 'NO',
    'e.cancelable': e.cancelable ? 'S√ç' : 'NO'
  };
  
  let html = '<b>üìã INFORMACI√ìN COMPLETA DEL EVENTO:</b><br><br>';
  for(let key in data) {
    html += `${key} ‚Üí <span style="color:#ffff00;">${data[key]}</span><br>`;
  }
  
  output.innerHTML = html;
});

// Mostrador que desaparece al hacer scroll
document.getElementById('summaryOutput').addEventListener('mouseleave', () => {
  document.getElementById('summaryOutput').style.display = 'none';
});
</script>


  <!-- Secci√≥n 3: Event Bubbling -->
  <div class="section">
  <h2>ü´ß Event Bubbling - C√≥mo Suben los Eventos</h2>
  <p>
    Cuando ocurre un evento (por ejemplo, <b>click</b>), este ‚Äúburbujea‚Äù desde el elemento donde ocurri√≥ hacia arriba, pasando por cada padre. Esto se llama <b>bubbling</b>.
    <br>¬°Es muy √∫til para manejar acciones en grupos de elementos!
  </p>

  <div class="code">
    <b>Ejemplo: El evento sube autom√°ticamente</b>
    <br><code>
      // Si haces clic en el bot√≥n, el evento sube al div padre<br>
      const div = document.getElementById('padre');<br>
      const boton = document.getElementById('boton');<br><br>
      div.addEventListener('click', function() {<br>
         console.log('Padre recibi√≥ el evento');<br>
      });<br>
      boton.addEventListener('click', function() {<br>
         console.log('Bot√≥n fue clickeado');<br>
      });
    </code>
  </div>

  <div class="code">
    <b>Detener la propagaci√≥n (stopPropagation)</b>
    <br><code>
      boton.addEventListener('click', function(e) {<br>
         e.stopPropagation(); // Detiene el bubbling<br>
         console.log('Bot√≥n clickeado, el padre NO lo sabe');<br>
      });
    </code>
  </div>

  <div class="code">
    <b>Prevenir comportamiento por defecto (preventDefault)</b>
    <br><code>
      link.addEventListener('click', function(e) {<br>
         e.preventDefault(); // El link NO se abre<br>
         console.log('Link no se abri√≥');<br>
      });
    </code>
  </div>

  <div class="demo-box">
    <div class="demo-title">üéÆ Demo: Observa el Bubbling</div>
    <div id="parent" style="background: rgba(102,126,234,0.1); padding: 20px; border-radius: 8px; margin-bottom: 10px; cursor: pointer;">
      <p style="margin: 0 0 15px 0; color: #a78bfa; font-weight: 600;">Padre (Contenedor) - Click aqu√≠</p>
      <button class="btn" id="childBtn">Hijo (Bot√≥n) - Click aqu√≠</button>
      <a href="https://google.com" target="_blank" id="demoLink" style="margin-left:20px;color:#667eea;text-decoration:underline;">Link (preventDefault)</a>
    </div>
    <div class="event-log" id="bubblingLog" style="background:#222;color:#0f0;padding:10px 16px;border-radius:8px;height:80px;overflow:auto;font-family:monospace;font-size:0.9rem;margin-bottom:10px;"></div>
    <button class="btn btn-secondary" onclick="clearBubblingLog()">Limpiar Log</button>
    <p style="margin-top: 15px; color: #a78bfa; font-size: 0.95rem;">
      üí° Haz clic en el <b>bot√≥n</b>: ver√°s que el evento primero lo recibe el Hijo y tambi√©n el Padre.<br>
      Haz clic en el <b>Padre</b>: solo el padre lo recibe.<br>
      Haz clic en el <b>link</b>: ver√°s c√≥mo se previene el comportamiento por defecto.
    </p>
    <button class="btn btn-danger" onclick="togglePropagation()">Activar / Desactivar stopPropagation</button> 
    <span id="propagationStatus" style="margin-left:16px; font-weight:bold; color:#f093fb;">Propagaci√≥n activa</span>
  </div>
</div>

<script>
// Bubbling logger
function logBubbling(msg) {
  const log = document.getElementById('bubblingLog');
  const entry = document.createElement('div');
  entry.textContent = `[${new Date().toLocaleTimeString()}] ${msg}`;
  log.appendChild(entry);
  log.scrollTop = log.scrollHeight;
  if(log.children.length > 10) log.removeChild(log.firstChild);
}
function clearBubblingLog() {
  document.getElementById('bubblingLog').innerHTML = '';
}

// Propagation toggle
let propagationActive = true;
document.getElementById('propagationStatus').textContent = 'Propagaci√≥n activa';

// Eventos
document.getElementById('parent').addEventListener('click', function(e){
  logBubbling('Padre recibi√≥ el evento (burbujeo)');
});
document.getElementById('childBtn').addEventListener('click', function(e){
  logBubbling('Bot√≥n fue clickeado');
  if(!propagationActive){
    e.stopPropagation();
    logBubbling('Propagaci√≥n detenida con stopPropagation');
  }
});
document.getElementById('demoLink').addEventListener('click', function(e){
  e.preventDefault();
  logBubbling('Comportamiento por defecto prevenido (el link NO se abri√≥)');
});

function togglePropagation(){
  propagationActive = !propagationActive;
  document.getElementById('propagationStatus').textContent = propagationActive ? 'Propagaci√≥n activa' : 'Propagaci√≥n detenida';
}
</script>

  <!-- Secci√≥n 4: Event Delegation -->
  <div class="section">
  <h2>üéØ Event Delegation - Delegar Eventos</h2>
  <p>
    <b>Delegaci√≥n de eventos</b> significa poner <b>solo UN event listener en el padre</b> en vez de muchos listeners en cada hijo.  
    Esto hace tu c√≥digo m√°s eficiente, especialmente cuando tienes muchos elementos que se pueden crear, borrar o modificar.
  </p>

  <h3 style="color: #a78bfa; margin-top: 25px; margin-bottom: 15px;">‚ùå Sin delegaci√≥n (ineficiente)</h3>
  <div class="code">
    <span style="color:#e3342f;"><b>M√∫ltiples listeners:</b></span><br>
    const botones = document.querySelectorAll('.btn');<br>
    botones.forEach(btn => {<br>
      &nbsp;&nbsp;btn.addEventListener('click', function() {<br>
      &nbsp;&nbsp;&nbsp;&nbsp;console.log('Bot√≥n clickeado');<br>
      &nbsp;&nbsp;});<br>
    });
  </div>

  <h3 style="color: #38c172; margin-top: 25px; margin-bottom: 15px;">‚úÖ Con delegaci√≥n (eficiente)</h3>
  <div class="code">
    <span style="color:#38c172;"><b>Un solo listener:</b></span><br>
    const contenedor = document.getElementById('contenedor');<br>
    contenedor.addEventListener('click', function(e) {<br>
      &nbsp;&nbsp;if(e.target.classList.contains('btn')) {<br>
      &nbsp;&nbsp;&nbsp;&nbsp;console.log('Bot√≥n clickeado');<br>
      &nbsp;&nbsp;}<br>
    });
  </div>

  <div class="demo-box">
    <div class="demo-title">üéÆ Demo: Delegaci√≥n en Acci√≥n</div>
    <p style="margin-bottom: 15px; color: #a78bfa;">
      Haz clic en cualquier tarjeta.<br>
      <b>Solo el contenedor tiene el event listener, pero detecta cu√°l tarjeta fue clickeada.</b>
    </p>
    <div class="card-grid" id="delegationContainer" style="display: grid; grid-template-columns: repeat(auto-fit,minmax(110px,1fr)); gap:12px; margin-bottom: 10px;">
      <div class="card btn">Tarjeta 1</div>
      <div class="card btn">Tarjeta 2</div>
      <div class="card btn">Tarjeta 3</div>
      <div class="card btn">Tarjeta 4</div>
    </div>
    <button class="btn btn-success" onclick="addNewCard()" style="margin-top: 15px;">Agregar Nueva Tarjeta</button>
    <p style="margin-top: 15px; color: #a78bfa; font-size: 0.95rem;">
      üí° Las nuevas tarjetas tambi√©n funcionan autom√°ticamente gracias a la delegaci√≥n.
    </p>
    <div class="event-log" id="delegationLog" style="background: #222; color: #0f0; padding: 10px 16px; border-radius: 8px; min-height: 50px; font-family: monospace; font-size: 0.95rem; margin-bottom:10px;"></div>
    <button class="btn btn-secondary" onclick="clearDelegationLog()">Limpiar Log</button>
  </div>
</div>

<script>
function logDelegation(msg) {
  const log = document.getElementById('delegationLog');
  const entry = document.createElement('div');
  entry.textContent = `[${new Date().toLocaleTimeString()}] ${msg}`;
  log.appendChild(entry);
  log.scrollTop = log.scrollHeight;
  if (log.children.length > 14) log.removeChild(log.firstChild);
}
function clearDelegationLog() {
  document.getElementById('delegationLog').innerHTML = '';
}

// Manejador con delegaci√≥n de eventos
document.getElementById('delegationContainer').addEventListener('click', function(e) {
  if (e.target.classList.contains('btn')) {
    logDelegation('Tarjeta clickeada: ' + e.target.textContent.trim());
    e.target.style.background = "linear-gradient(135deg, #667eea, #f093fb)";
    setTimeout(()=>{e.target.style.background="";},600);
  }
});

// Agregar nuevas tarjetas din√°micamente
let cardCounter = 5;
function addNewCard() {
  const container = document.getElementById('delegationContainer');
  const newCard = document.createElement('div');
  newCard.className = "card btn";
  newCard.textContent = "Tarjeta " + cardCounter;
  container.appendChild(newCard);
  cardCounter++;
  logDelegation('Nueva tarjeta agregada: Tarjeta '+(cardCounter-1));
}
</script>

  <!-- Secci√≥n 5: Eventos de Teclado -->
  <div class="section">
  <h2>‚å®Ô∏è Manejo Avanzado de Teclado</h2>
  <p>
    Aprende a detectar <b>qu√© tecla presion√≥ el usuario</b> y responde a combinaciones, teclas especiales y acciones relevantes.
    <br>Esto es fundamental para formularios din√°micos, accesibilidad y atajos de teclado.
  </p>

  <div class="code">
    <b>Detectar teclas espec√≠ficas y combinaciones</b>
    <br><code>
      input.addEventListener('keydown', function(e) {<br>
        &nbsp;if(e.key === 'Enter') {<br>
          &nbsp;&nbsp;console.log('Usuario presion√≥ Enter');<br>
        &nbsp;}<br>
        &nbsp;if(e.key === ' ') {<br>
          &nbsp;&nbsp;console.log('Usuario presion√≥ Espacio');<br>
        &nbsp;}<br>
        &nbsp;if(e.ctrlKey && e.key === 's') {<br>
          &nbsp;&nbsp;console.log('Usuario presion√≥ Ctrl+S');<br>
        &nbsp;}<br>
      });
    </code>
  </div>

  <ul style="margin:18px 0;">
    <li>‚úîÔ∏è <b>e.key</b>: El valor textual de la tecla presionada ('Enter', 'a', '1', ' ').</li>
    <li>‚úîÔ∏è <b>e.code</b>: El c√≥digo f√≠sico del teclado ('Enter', 'KeyA', 'Digit1').</li>
    <li>‚úîÔ∏è <b>e.ctrlKey</b>: <span style="color:#38c172;">true</span> si la tecla Ctrl est√° presionada.</li>
    <li>‚úîÔ∏è <b>e.altKey</b> y <b>e.shiftKey</b>: Para Alt y Shift.</li>
  </ul>

  <div class="demo-box">
    <div class="demo-title">üéÆ Demo: Eventos de Teclado</div>
    <p style="margin-bottom:12px;">Escribe algo y prueba con <b>Enter</b>, <b>Espacio</b> y <b>Ctrl+S</b>. Observa la respuesta en el log.</p>
    <input id="keyboardInput" type="text" class="input" placeholder="Presiona Enter para procesar...">
    <div class="live-output" id="keyboardOutput" style="background:#e0e7ef;padding:8px;border-radius:6px;margin:12px 0;">Escribe y presiona Enter</div>
    <div class="event-log" id="keyboardLog" style="background:#222;color:#0f0;padding:10px;border-radius:8px;min-height:50px;font-family:monospace;font-size:0.96rem;margin-bottom:10px;"></div>
    <button class="btn btn-secondary" onclick="clearKeyboardLog()">Limpiar Log</button>
  </div>
</div>

<script>
function addKeyboardLog(msg) {
  const log = document.getElementById('keyboardLog');
  const entry = document.createElement('div');
  entry.textContent = `[${new Date().toLocaleTimeString()}] ${msg}`;
  log.appendChild(entry);
  log.scrollTop = log.scrollHeight;
  if(log.children.length > 16) log.removeChild(log.firstChild);
}
function clearKeyboardLog() {
  document.getElementById('keyboardLog').innerHTML = '';
}

document.getElementById('keyboardInput').addEventListener('keydown', function(e) {
  let output = document.getElementById('keyboardOutput');
  if(e.key === 'Enter') {
    addKeyboardLog('‚èé Enter presionado');
    output.textContent = '¬°Enter procesado! Input: "' + e.target.value + '"';
  }
  if(e.key === ' ') {
    addKeyboardLog('‚ê£ Espacio presionado');
    output.textContent = '¬°Espacio detectado!';
  }
  if(e.ctrlKey && (e.key === 's' || e.key === 'S')) {
    addKeyboardLog('üíæ Ctrl+S detectado - Prevenir guardado por defecto');
    e.preventDefault();
    output.textContent = '¬°Ctrl+S detectado! Puede usarse para atajos personalizados.';
  }
  // Mostrar la √∫ltima tecla siempre
  output.textContent = '√öltima tecla: ' + e.key + ' (code: ' + e.code + ')';
});
</script>

  <!-- Secci√≥n 6: Ejercicio Final -->
 <div class="section">
  <h2>üéØ Ejercicio Final: Selector Multi-Opci√≥n</h2>
  <p>
    Integra <b>delegaci√≥n de eventos</b>, manipulaci√≥n del DOM, clases CSS din√°micas y retroalimentaci√≥n visual.<br>
    Elige tus lenguajes favoritos, agrega nuevos, y observa c√≥mo todo funciona gracias a los conceptos del m√≥dulo.
  </p>

  <div class="demo-box">
    <div class="demo-title">üî• Elige tus lenguajes de programaci√≥n favoritos</div>
    
    <div id="selectorContainer" style="
      display: grid; 
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); 
      gap: 15px; 
      margin-bottom: 20px;">
      <div class="selector-option" data-id="1">Python</div>
      <div class="selector-option" data-id="2">JavaScript</div>
      <div class="selector-option" data-id="3">HTML/CSS</div>
      <div class="selector-option" data-id="4">React</div>
      <div class="selector-option" data-id="5">Node.js</div>
      <div class="selector-option" data-id="6">Vue.js</div>
    </div>
    
    <div style="background: rgba(0,0,0,0.15); padding: 18px; border-radius: 8px; margin-bottom: 14px;">
      <p style="color: #a78bfa; margin-bottom: 10px; font-weight: 600;">Tu selecci√≥n:</p>
      <div id="selectedItems" style="color: #fff; line-height: 1.6; min-height: 24px;">Ninguno seleccionado a√∫n</div>
    </div>

    <input id="newLangInput" type="text" class="input" placeholder="Agregar nuevo lenguaje..." style="margin-bottom:8px;">
    <button class="btn btn-success" onclick="addLanguage()">Agregar Lenguaje</button>
    <button class="btn btn-danger" onclick="clearSelection()" style="margin-left:8px;">Limpiar Selecci√≥n</button>
    <button class="btn btn-secondary" onclick="resetLanguages()" style="margin-left:8px;">Resetear Opciones</button>
  </div>
</div>

<style>
.selector-option {
  background: linear-gradient(135deg, #667eea55, #f093fb44);
  color: #221a34;
  border-radius: 6px;
  font-weight: bold;
  padding: 14px 0;
  cursor: pointer;
  text-align: center;
  transition: all 0.2s;
  user-select: none;
  border: 2px solid #e0e7ef;
}
.selector-option.selected {
  background: linear-gradient(135deg, #667eea, #f093fb);
  color: white !important;
  border: 2px solid #a78bfa;
  box-shadow: 0 4px 16px #c1b3f0a0;
}
.selector-option:hover {
  transform: scale(1.06);
  border-color: #667eea;
}
</style>

<script>
const container = document.getElementById('selectorContainer');
const selectedItems1 = document.getElementById('selectedItems');
let selectedSet = new Set();
let defaultLanguages = [
  {name:"Python", id:1},
  {name:"JavaScript", id:2},
  {name:"HTML/CSS", id:3},
  {name:"React", id:4},
  {name:"Node.js", id:5},
  {name:"Vue.js", id:6}
];

function updateSelectedDisplay() {
  if (selectedSet.size === 0) {
    selectedItems1.textContent = 'Ninguno seleccionado a√∫n';
  } else {
    selectedItems1.innerHTML = Array.from(selectedSet)
      .map(x=>`<span style="background:#667eea;color:#fff;padding:4px 10px;border-radius:6px;margin:0 2px;">${x}</span>`).join(' ');
  }
}

// Delegaci√≥n de eventos (click en opci√≥n)
container.addEventListener('click', function(e){
  if (e.target.classList.contains('selector-option')) {
    const langName = e.target.textContent;
    if (e.target.classList.contains('selected')) {
      e.target.classList.remove('selected');
      selectedSet.delete(langName);
    } else {
      e.target.classList.add('selected');
      selectedSet.add(langName);
    }
    updateSelectedDisplay();
  }
});

// Agregar nueva opci√≥n
function addLanguage() {
  const input = document.getElementById('newLangInput');
  const lang = input.value.trim();
  if (!lang) return;
  // Evitar duplicados
  if ([...container.children].some(el=>el.textContent.toLowerCase()===lang.toLowerCase())) {
    alert("Ese lenguaje ya est√° en la lista");
    input.value = '';
    return;
  }
  const newDiv = document.createElement('div');
  newDiv.className = "selector-option";
  newDiv.textContent = lang;
  newDiv.setAttribute('data-id', Date.now());
  container.appendChild(newDiv);
  input.value = '';
}

// Limpiar selecci√≥n
function clearSelection() {
  [...container.children].forEach(el=>el.classList.remove('selected'));
  selectedSet.clear();
  updateSelectedDisplay();
}

// Resetear a opciones por defecto
function resetLanguages() {
  container.innerHTML = defaultLanguages.map(l=>`
    <div class="selector-option" data-id="${l.id}">${l.name}</div>
  `).join('');
  clearSelection();
}

updateSelectedDisplay();
</script>

  <!-- Bot√≥n siguiente -->
  <a href="quiz.html" class="btn btn-large">
    Ir a Quiz Final ‚Üí
  </a>

</div>

<script>
// Demo 1: Tipos de Eventos
const eventElement1 = document.getElementById('eventElement');
const eventInput1 = document.getElementById('eventInput');
const eventLog = document.getElementById('eventLog');

function addLog(message) {
  const item = document.createElement('div');
  item.className = 'event-item';
  item.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
  eventLog.insertBefore(item, eventLog.firstChild);
  
  if(eventLog.children.length > 20) {
    eventLog.removeChild(eventLog.lastChild);
  }
}

eventElement1.addEventListener('click', () => addLog('‚úì Click'));
eventElement1.addEventListener('dblclick', () => addLog('‚úì‚úì Doble click'));
eventElement1.addEventListener('mouseover', () => addLog('‚Üí Mouse entra'));
eventElement1.addEventListener('mouseout', () => addLog('‚Üê Mouse sale'));

eventInput1.addEventListener('input', (e) => addLog(`‚å®Ô∏è Input: ${e.target.value.length} caracteres`));
eventInput1.addEventListener('focus', () => addLog('üîç Input enfocado'));
eventInput1.addEventListener('blur', () => addLog('üîç Input desenfocado'));

function clearLog() {
  eventLog.innerHTML = '';
}

// Demo 2: Event Info
const eventInfoDemo = document.getElementById('eventInfoDemo');
const eventInfoOutput = document.getElementById('eventInfoOutput');

eventInfoDemo.addEventListener('click', function(e) {
  const info = `Tipo de evento: ${e.type}
Elemento: ${e.target.tagName}
Posici√≥n X: ${e.clientX}
Posici√≥n Y: ${e.clientY}
Timestamp: ${new Date(e.timeStamp).toLocaleTimeString()}`;
  eventInfoOutput.textContent = info;
});

// Demo 3: Event Bubbling
const parent = document.getElementById('parent');
const childBtn = document.getElementById('childBtn');
const bubblingLog = document.getElementById('bubblingLog');

function addBubblingLog(message) {
  const item = document.createElement('div');
  item.className = 'event-item';
  item.textContent = message;
  bubblingLog.insertBefore(item, bubblingLog.firstChild);
}

parent.addEventListener('click', () => {
  addBubblingLog('üì¶ Padre: Evento recibido (bubbling)');
});

childBtn.addEventListener('click', (e) => {
  addBubblingLog('üîò Bot√≥n: Click ejecutado');
});

// Demo 4: Event Delegation
const delegationContainer = document.getElementById('delegationContainer');
const delegationLog = document.getElementById('delegationLog');
let cardCount = 4;

delegationContainer.addEventListener('click', function(e) {
  if(e.target.classList.contains('card')) {
    e.target.classList.toggle('active');
    const estado = e.target.classList.contains('active') ? '‚úì Seleccionada' : '‚úó Deseleccionada';
    
    const item = document.createElement('div');
    item.className = 'event-item';
    item.textContent = `"${e.target.textContent}" ${estado}`;
    delegationLog.insertBefore(item, delegationLog.firstChild);
  }
});

function addNewCard() {
  cardCount++;
  const newCard = document.createElement('div');
  newCard.className = 'card';
  newCard.textContent = `Tarjeta ${cardCount}`;
  delegationContainer.appendChild(newCard);
}

// Demo 5: Keyboard
const keyboardInput = document.getElementById('keyboardInput');
const keyboardOutput = document.getElementById('keyboardOutput');
const keyboardLog = document.getElementById('keyboardLog');

keyboardInput.addEventListener('input', function() {
  keyboardOutput.textContent = `${this.value.length} caracteres`;
});

keyboardInput.addEventListener('keydown', function(e) {
  if(e.key === 'Enter') {
    const item = document.createElement('div');
    item.className = 'event-item';
    item.textContent = `‚å®Ô∏è Enter presionado: "${this.value}"`;
    keyboardLog.insertBefore(item, keyboardLog.firstChild);
    this.value = '';
    keyboardOutput.textContent = '0 caracteres';
  }
});

// Ejercicio Final: Selector
const selectorContainer = document.getElementById('selectorContainer');
const selectedItems = document.getElementById('selectedItems');
const selectedArray = [];

selectorContainer.addEventListener('click', function(e) {
  if(e.target.classList.contains('selector-option')) {
    e.target.classList.toggle('selected');
    
    const id = e.target.getAttribute('data-id');
    const text = e.target.textContent;
    
    if(e.target.classList.contains('selected')) {
      selectedArray.push({id, text});
    } else {
      const index = selectedArray.findIndex(item => item.id === id);
      if(index > -1) selectedArray.splice(index, 1);
    }
    
    updateSelectedList();
  }
});

function updateSelectedList() {
  if(selectedArray.length === 0) {
    selectedItems.textContent = 'Ninguno seleccionado a√∫n';
  } else {
    selectedItems.innerHTML = selectedArray
      .map((item, idx) => `${idx + 1}. ${item.text}`)
      .join('<br>');
  }
}
</script>
</body>
</html>
