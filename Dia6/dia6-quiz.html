<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D√≠a 6 - Quiz Final: Variables y Tipos de Datos</title>
    <link rel="stylesheet" href="../Css/global2.css">
    <style>
        .quiz-header {
            background: linear-gradient(135deg, rgba(102,126,234,0.1), rgba(240,147,251,0.1));
            padding: 48px;
            border-radius: 16px;
            text-align: center;
            margin-bottom: 48px;
            border: 2px solid rgba(102,126,234,0.3);
        }

        .quiz-title {
            font-size: 48px;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea, #f093fb);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 16px;
        }

        .quiz-subtitle {
            font-size: 18px;
            color: rgba(255,255,255,0.8);
            margin-bottom: 12px;
        }

        .quiz-icon {
            font-size: 80px;
            margin-bottom: 24px;
        }

        .quiz-instructions {
            background: rgba(102,126,234,0.1);
            border-left: 4px solid #667eea;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 32px;
            font-size: 14px;
            line-height: 1.8;
        }

        .question-card {
            background: rgba(30,30,30,0.95);
            padding: 24px;
            border-radius: 12px;
            border-left: 4px solid var(--color-primary);
            margin-bottom: 24px;
        }

        .question-number {
            font-size: 16px;
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: 12px;
        }

        .question-text {
            font-size: 15px;
            font-weight: 600;
            color: white;
            margin-bottom: 16px;
        }

        .options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
            margin-bottom: 16px;
        }

        .option {
            background: rgba(50,50,50,0.95);
            border: 2px solid rgba(102,126,234,0.2);
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
            color: rgba(255,255,255,0.8);
        }

        .option:hover {
            border-color: #667eea;
            background: rgba(102,126,234,0.1);
        }

        .option.selected {
            border-color: #667eea;
            background: rgba(102,126,234,0.2);
            color: white;
        }

        .option.correct {
            border-color: #48bb78;
            background: rgba(72,187,120,0.2);
            color: #48bb78;
        }

        .option.incorrect {
            border-color: #f56565;
            background: rgba(245,101,101,0.2);
            color: #f56565;
        }

        .button-container {
            display: flex;
            gap: 12px;
            margin-top: 24px;
            flex-wrap: wrap;
        }

        button {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }

        .btn-check {
            background: #667eea;
            color: white;
            flex: 1;
            min-width: 150px;
        }

        .btn-check:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102,126,234,0.4);
        }

        .btn-next {
            background: #48bb78;
            color: white;
            flex: 1;
            min-width: 150px;
        }

        .btn-next:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(72,187,120,0.4);
        }

        .btn-submit {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            width: 100%;
            padding: 16px;
            font-size: 16px;
        }

        .btn-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102,126,234,0.4);
        }

        .progress-bar {
            background: rgba(50,50,50,0.8);
            height: 8px;
            border-radius: 4px;
            margin-bottom: 24px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #f093fb);
            transition: width 0.3s;
        }

        .score-section {
            display: none;
            text-align: center;
            padding: 48px;
            background: linear-gradient(135deg, rgba(72,187,120,0.1), rgba(102,126,234,0.1));
            border-radius: 16px;
            border: 2px solid rgba(102,126,234,0.3);
            margin: 48px 0;
        }

        .score-section.active {
            display: block;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .final-score {
            font-size: 72px;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea, #f093fb);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 24px 0;
        }

        .final-message {
            font-size: 28px;
            font-weight: 700;
            color: white;
            margin-bottom: 16px;
        }

        .final-details {
            font-size: 16px;
            color: rgba(255,255,255,0.8);
            margin-bottom: 32px;
            line-height: 1.8;
        }

        .emoji-celebration {
            font-size: 64px;
            margin: 24px 0;
            animation: bounce 1s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .stars {
            font-size: 48px;
            margin: 16px 0;
        }

        .next-section-button {
            display: inline-block;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 18px 48px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 16px;
            text-decoration: none;
            transition: all 0.3s;
        }

        .next-section-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102,126,234,0.4);
        }

        .feedback-message {
            margin-top: 12px;
            padding: 12px;
            border-radius: 8px;
            font-size: 13px;
            display: none;
        }

        .feedback-correct {
            background: rgba(72,187,120,0.1);
            border-left: 3px solid #48bb78;
            color: #48bb78;
            display: block;
        }

        .feedback-incorrect {
            background: rgba(245,101,101,0.1);
            border-left: 3px solid #f56565;
            color: #f56565;
            display: block;
        }

        @media (max-width: 768px) {
            .quiz-title {
                font-size: 36px;
            }

            .final-score {
                font-size: 48px;
            }

            .final-message {
                font-size: 22px;
            }
        }
    </style>
</head>
<body>
    <div class="background-animation"></div>
    
    <div class="container">
        <!-- Header -->
        <div class="quiz-header">
            <div class="quiz-icon">üéØ</div>
            <h1 class="quiz-title">Quiz Final: D√≠a 6</h1>
            <p class="quiz-subtitle">Variables, Tipos de Datos y Operaciones</p>
            <p style="color: rgba(255,255,255,0.7); font-size: 14px; line-height: 1.8;">
                ¬°Has llegado al final del D√≠a 6! Este quiz evaluar√° tu comprensi√≥n de todo lo aprendido. 
                Tienes 10 preguntas para demostrar tu conocimiento. ¬°Buena suerte! üöÄ
            </p>
        </div>

        <!-- Instrucciones -->
        <div class="quiz-instructions">
            <strong>üìù Instrucciones:</strong>
            <ul style="margin: 8px 0 0 0; padding-left: 20px;">
                <li>Tienes <strong>10 preguntas</strong> sobre lo aprendido en el D√≠a 6</li>
                <li>Selecciona la respuesta correcta para cada pregunta</li>
                <li>Haz clic en "Verificar" para confirmar tu respuesta</li>
                <li>Al final, ver√°s tu puntuaci√≥n y un mensaje especial</li>
                <li>Necesitas <strong>70% o m√°s</strong> para pasar el d√≠a (7 de 10)</li>
            </ul>
        </div>

        <!-- Barra de Progreso -->
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <!-- Quiz Container -->
        <div id="quizContainer"></div>

        <!-- Score Section -->
        <div class="score-section" id="scoreSection">
            <div class="emoji-celebration" id="emoji">üéâ</div>
            <div class="final-message" id="finalMessage"></div>
            <div class="final-score" id="finalScore"></div>
            <div class="stars" id="stars"></div>
            <div class="final-details" id="finalDetails"></div>
            <a href="../menu.html" class="next-section-button">
                ‚úÖ Volver al Men√∫
            </a>
        </div>
    </div>

    <script>
        const questions = [
            {
                question: "¬øCu√°l es la forma CORRECTA de declarar una variable que no cambiar√°?",
                options: [
                    "var precio = 100;",
                    "let precio = 100;",
                    "const precio = 100;",
                    "const precio;"
                ],
                correct: 2,
                explanation: "Usa 'const' para valores que no cambian. Es la mejor pr√°ctica. 'const precio = 100;' es lo correcto."
            },
            {
                question: "¬øQu√© resultado da la operaci√≥n: '5' + 3?",
                options: [
                    "8 (n√∫mero)",
                    "\"53\" (string)",
                    "Error",
                    "undefined"
                ],
                correct: 1,
                explanation: "Cuando sumas un string y un n√∫mero, JavaScript concatena (junta). Resultado: '53' como string."
            },
            {
                question: "¬øCu√°l es la salida de: console.log(typeof 'Hola')?",
                options: [
                    "\"Hola\"",
                    "\"string\"",
                    "string",
                    "\"text\""
                ],
                correct: 1,
                explanation: "typeof retorna el tipo entre comillas. Para strings, retorna la string '\"string\"'."
            },
            {
                question: "¬øCu√°l es la diferencia entre null y undefined?",
                options: [
                    "No hay diferencia",
                    "null = sin valor intencional, undefined = sin valor autom√°tico",
                    "undefined es un error, null no",
                    "null solo existe en funciones"
                ],
                correct: 1,
                explanation: "null es cuando T√ö decides que no hay valor. undefined es cuando JavaScript autom√°ticamente lo pone."
            },
            {
                question: "¬øQu√© hace el operador %?",
                options: [
                    "Divide n√∫meros",
                    "Multiplica n√∫meros",
                    "Porcentaje",
                    "Residuo de una divisi√≥n"
                ],
                correct: 3,
                explanation: "El operador % (m√≥dulo) retorna el residuo. Ejemplo: 10 % 3 = 1"
            },
            {
                question: "¬øCu√°l es el correcto nombrado de variable seg√∫n convenci√≥n JavaScript?",
                options: [
                    "let MiVariable = 5;",
                    "let my_variable = 5;",
                    "let myVariable = 5;",
                    "let 1MyVariable = 5;"
                ],
                correct: 2,
                explanation: "JavaScript usa camelCase. La primera palabra min√∫scula, las siguientes con may√∫scula al inicio."
            },
            {
                question: "¬øC√≥mo se convierte el string '25' a n√∫mero?",
                options: [
                    "'25' + 0",
                    "String('25')",
                    "Number('25')",
                    "'25'.toNumber()"
                ],
                correct: 2,
                explanation: "Usa Number() para convertir strings a n√∫meros. Number('25') retorna 25 (n√∫mero)."
            },
            {
                question: "¬øQu√© es scope?",
                options: [
                    "El tama√±o del c√≥digo",
                    "D√≥nde es accesible una variable",
                    "El tipo de variable",
                    "La velocidad del programa"
                ],
                correct: 1,
                explanation: "Scope es la regi√≥n del c√≥digo donde una variable es accesible. Puede ser global, local o block."
            },
            {
                question: "¬øCu√°l variable es accesible fuera del bloque?",
                options: [
                    "{ let x = 5; } ‚Üí console.log(x) ‚úÖ",
                    "{ const y = 10; } ‚Üí console.log(y) ‚úÖ",
                    "const z = 15; ‚Üí console.log(z) ‚úÖ",
                    "Ninguna"
                ],
                correct: 2,
                explanation: "Variables declaradas fuera de bloques (en global scope) son accesibles. Las dentro de {} solo existen ah√≠."
            },
            {
                question: "¬øCu√°l valor se convierte en false al hacer Boolean()?",
                options: [
                    "Boolean('0')",
                    "Boolean(0)",
                    "Boolean(' ')",
                    "Boolean(1)"
                ],
                correct: 1,
                explanation: "Los valores falsy son: 0, '', false, null, undefined, NaN. Boolean(0) = false"
            }
        ];

        let currentQuestion = 0;
        let score = 0;
        const userAnswers = new Array(questions.length).fill(null);
        let answered = new Array(questions.length).fill(false);

        function renderQuestion() {
            const container = document.getElementById('quizContainer');
            const question = questions[currentQuestion];

            if (currentQuestion < questions.length) {
                container.innerHTML = `
                    <div class="question-card">
                        <div class="question-number">Pregunta ${currentQuestion + 1} de ${questions.length}</div>
                        <div class="question-text">${question.question}</div>
                        <div class="options" id="optionsContainer">
                            ${question.options.map((opt, idx) => `
                                <div class="option ${userAnswers[currentQuestion] === idx ? 'selected' : ''}" onclick="selectOption(${idx})" id="option-${idx}">
                                    <strong>${String.fromCharCode(65 + idx)})</strong> ${opt}
                                </div>
                            `).join('')}
                        </div>
                        <div class="feedback-message" id="feedback"></div>
                        <div class="button-container">
                            ${!answered[currentQuestion] ? `<button class="btn-check" onclick="checkAnswer()">‚úì Verificar</button>` : ''}
                            ${currentQuestion > 0 ? '<button class="btn-next" onclick="previousQuestion()">‚Üê Anterior</button>' : ''}
                            ${answered[currentQuestion] && currentQuestion < questions.length - 1 ? '<button class="btn-next" onclick="nextQuestion()">Siguiente ‚Üí</button>' : ''}
                            ${answered[currentQuestion] && currentQuestion === questions.length - 1 ? '<button class="btn-submit" onclick="showResults()">üèÅ Ver Resultados</button>' : ''}
                        </div>
                    </div>
                `;
            }

            updateProgress();
        }

        function selectOption(idx) {
            if (answered[currentQuestion]) return; // No permite cambiar si ya respondi√≥
            document.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
            document.getElementById(`option-${idx}`).classList.add('selected');
            userAnswers[currentQuestion] = idx;
        }

        function checkAnswer() {
            if (userAnswers[currentQuestion] === null) {
                alert('Por favor selecciona una respuesta');
                return;
            }

            const question = questions[currentQuestion];
            const correct = userAnswers[currentQuestion] === question.correct;
            
            if (correct) {
                score++;
                document.getElementById(`option-${question.correct}`).classList.add('correct');
                document.getElementById('feedback').innerHTML = `‚úÖ <strong>¬°Correcto!</strong> ${question.explanation}`;
                document.getElementById('feedback').classList.add('feedback-correct');
            } else {
                document.getElementById(`option-${userAnswers[currentQuestion]}`).classList.add('incorrect');
                document.getElementById(`option-${question.correct}`).classList.add('correct');
                document.getElementById('feedback').innerHTML = `‚ùå <strong>Incorrecto.</strong> ${question.explanation}`;
                document.getElementById('feedback').classList.add('feedback-incorrect');
            }

            answered[currentQuestion] = true;
            renderQuestion();
        }

        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                renderQuestion();
            }
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                renderQuestion();
            }
        }

        function updateProgress() {
            const percentage = ((currentQuestion + 1) / questions.length) * 100;
            document.getElementById('progressFill').style.width = percentage + '%';
        }

        function showResults() {
            // Guardar en localStorage
            const scorePercentage = (score / questions.length) * 100;
            const passed = scorePercentage >= 70;

            // Guardar progreso en localStorage
            const completedDays = JSON.parse(localStorage.getItem('completedDays') || '[]');
            if (!completedDays.includes(6) && scorePercentage >= 70) {
                completedDays.push(6);
                localStorage.setItem('completedDays', JSON.stringify(completedDays));
            }



            document.getElementById('quizContainer').style.display = 'none';

            let emoji, message, details;

            if (scorePercentage === 100) {
                emoji = 'üåü';
                message = '¬°PERFECTO! ¬°Eres una ESTRELLA! üåü';
                details = `Obtuviste <strong>${score} de ${questions.length} preguntas correctas</strong> (100%)<br>¬°Dominas completamente el D√≠a 6!<br>Est√°s listo para continuar con Funciones y Condicionales.`;
            } else if (scorePercentage >= 85) {
                emoji = 'üéâ';
                message = '¬°EXCELENTE! ¬°Lo hiciste muy bien! üéä';
                details = `Obtuviste <strong>${score} de ${questions.length} preguntas correctas</strong> (${Math.round(scorePercentage)}%)<br>¬°Tienes una comprensi√≥n s√≥lida del D√≠a 6!<br>Est√°s muy preparado para el siguiente m√≥dulo.`;
            } else if (scorePercentage >= 70) {
                emoji = 'üëè';
                message = '¬°BIEN! ¬°Pasaste el D√≠a 6! üëè';
                details = `Obtuviste <strong>${score} de ${questions.length} preguntas correctas</strong> (${Math.round(scorePercentage)}%)<br>¬°Completaste los objetivos m√≠nimos!<br>Si quieres, puedes revisar los temas y volver a intentarlo.`;
            } else {
                emoji = 'üí™';
                message = '¬°Casi lo logras! No pasaste esta vez. üí™';
                details = `Obtuviste <strong>${score} de ${questions.length} preguntas correctas</strong> (${Math.round(scorePercentage)}%)<br>Necesitabas 70% (7 preguntas) para pasar.<br><strong>Te recomendamos revisar los m√≥dulos e intentar de nuevo.</strong>`;
            }

            document.getElementById('emoji').textContent = emoji;
            document.getElementById('finalMessage').textContent = message;
            document.getElementById('finalScore').textContent = `${score}/${questions.length}`;
            document.getElementById('finalDetails').innerHTML = details;

            // Stars
            let stars;
            if (scorePercentage === 100) {
                stars = '‚≠ê‚≠ê‚≠ê';
            } else if (scorePercentage >= 85) {
                stars = '‚≠ê‚≠ê';
            } else if (scorePercentage >= 70) {
                stars = '‚≠ê';
            } else {
                stars = '‚ùå';
            }
            document.getElementById('stars').textContent = stars;

            document.getElementById('scoreSection').classList.add('active');
        }

        // Inicializar
        renderQuestion();
    </script>
</body>
</html>
